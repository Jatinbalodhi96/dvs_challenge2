!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).g1=t.g1||{})}(this,function(t){"use strict";var C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function l(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function e(t,e){return t(e={exports:{}},e.exports),e.exports}function o(t){return function(){var u=t.apply(this,arguments);return new Promise(function(i,a){return function e(t,r){try{var n=u[t](r),o=n.value}catch(t){return void a(t)}if(!n.done)return Promise.resolve(o).then(function(t){e("next",t)},function(t){e("throw",t)});i(o)}("next")})}}var D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e(function(t,e){t.exports=function(){function c(t){return"function"==typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},n=0,e=void 0,o=void 0,a=function(t,e){p[n]=t,p[n+1]=e,2===(n+=2)&&(o?o(v):d())};var t="undefined"!=typeof window?window:void 0,i=t||{},u=i.MutationObserver||i.WebKitMutationObserver,s="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),l="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var t=setTimeout;return function(){return t(v,1)}}var p=new Array(1e3);function v(){for(var t=0;t<n;t+=2){var e=p[t],r=p[t+1];e(r),p[t]=void 0,p[t+1]=void 0}n=0}var d=void 0;function h(t,e){var r=this,n=new this.constructor(g);void 0===n[b]&&M(n);var o=r._state;if(o){var i=arguments[o-1];a(function(){return x(o,n,i,r._result)})}else T(r,n,t,e);return n}function y(t){if(t&&"object"===(void 0===t?"undefined":D(t))&&t.constructor===this)return t;var e=new this(g);return L(e,t),e}d=s?function(){return process.nextTick(v)}:u?function(){var t=0,e=new u(v),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){r.data=t=++t%2}}():l?function(){var t=new MessageChannel;return t.port1.onmessage=v,function(){return t.port2.postMessage(0)}}():void 0===t?function(){try{var t=Function("return this")().require("vertx");return void 0===(e=t.runOnLoop||t.runOnContext)?f():function(){e(v)}}catch(t){return f()}}():f();var b=Math.random().toString(36).substring(2);function g(){}var m=void 0,_=1,j=2;function w(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}function O(t,e,r){e.constructor===t.constructor&&r===h&&e.constructor.resolve===y?function(e,t){t._state===_?A(e,t._result):t._state===j?S(e,t._result):T(t,void 0,function(t){return L(e,t)},function(t){return S(e,t)})}(t,e):void 0===r?A(t,e):c(r)?function(t,n,o){a(function(e){var r=!1,t=w(o,n,function(t){r||(r=!0,n!==t?L(e,t):A(e,t))},function(t){r||(r=!0,S(e,t))},e._label);!r&&t&&(r=!0,S(e,t))},t)}(t,e,r):A(t,e)}function L(e,t){if(e===t)S(e,new TypeError("You cannot resolve a promise with itself"));else if(function(t){var e=void 0===t?"undefined":D(t);return null!==t&&("object"===e||"function"===e)}(t)){var r=void 0;try{r=t.then}catch(t){return void S(e,t)}O(e,t,r)}else A(e,t)}function E(t){t._onerror&&t._onerror(t._result),P(t)}function A(t,e){t._state===m&&(t._result=e,t._state=_,0!==t._subscribers.length&&a(P,t))}function S(t,e){t._state===m&&(t._state=j,t._result=e,a(E,t))}function T(t,e,r,n){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+_]=r,o[i+j]=n,0===i&&t._state&&a(P,t)}function P(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,o=void 0,i=t._result,a=0;a<e.length;a+=3)n=e[a],o=e[a+r],n?x(r,n,o,i):o(i);t._subscribers.length=0}}function x(t,e,r,n){var o=c(r),i=void 0,a=void 0,u=!0;if(o){try{i=r(n)}catch(t){u=!1,a=t}if(e===i)return void S(e,new TypeError("A promises callback cannot return that same promise."))}else i=n;e._state!==m||(o&&u?L(e,i):!1===u?S(e,a):t===_?A(e,i):t===j&&S(e,i))}var k=0;function M(t){t[b]=k++,t._state=void 0,t._result=void 0,t._subscribers=[]}var z=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(g),this.promise[b]||M(this.promise),r(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&A(this.promise,this._result))):S(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===m&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===y){var o=void 0,i=void 0,a=!1;try{o=e.then}catch(t){a=!0,i=t}if(o===h&&e._state!==m)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(r===F){var u=new r(g);a?S(u,i):O(u,e,o),this._willSettleAt(u,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},t.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===m&&(this._remaining--,t===j?S(n,r):this._result[e]=r),0===this._remaining&&A(n,this._result)},t.prototype._willSettleAt=function(t,e){var r=this;T(t,void 0,function(t){return r._settledAt(_,e,t)},function(t){return r._settledAt(j,e,t)})},t}();var F=function(){function e(t){this[b]=k++,this._result=this._state=void 0,this._subscribers=[],g!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t(function(t){L(e,t)},function(t){S(e,t)})}catch(t){S(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var r=this.constructor;return c(e)?this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})}):this.then(e,e)},e}();return F.prototype.then=h,F.all=function(t){return new z(this,t).promise},F.race=function(o){var i=this;return r(o)?new i(function(t,e){for(var r=o.length,n=0;n<r;n++)i.resolve(o[n]).then(t,e)}):new i(function(t,e){return e(new TypeError("You must pass an array to race."))})},F.resolve=y,F.reject=function(t){var e=new this(g);return S(e,t),e},F._setScheduler=function(t){o=t},F._setAsap=function(t){a=t},F._asap=a,F.polyfill=function(){var t=void 0;if(void 0!==C)t=C;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=F},F.Promise=F}()}).polyfill();!function o(i,a,u){function c(e,t){if(!a[e]){if(!i[e]){if(!t&&l)return l();if(s)return s(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var n=a[e]={exports:{}};i[e][0].call(n.exports,function(t){return c(i[e][1][t]||t)},n,n.exports,o,i,a,u)}return a[e].exports}for(var s=l,t=0;t<u.length;t++)c(u[t]);return c}({1:[function(t,e,r){e.exports=function(){"undefined"==typeof EventTarget&&(window.EventTarget=Node);var t={interceptors:[],getRegisteredEventListener:function(t,e){var r=e.type+"-"+(e.options.capture?"1":"0");if(void 0!==t.__eventListeners&&void 0!==t.__eventListeners[r])for(var n=t.__eventListeners[r],o=0;o<n.length;o++)if(n[o].listener===e.listener)return n[o];return null},registerEventListener:function(t,e){var r=e.type+"-"+(e.options.capture?"1":"0");void 0===t.__eventListeners&&(t.__eventListeners={}),void 0===t.__eventListeners[r]&&(t.__eventListeners[r]=[]),t.__eventListeners[r].push(e)},unregisterEventListener:function(t,e){var r=e.type+"-"+(e.options.capture?"1":"0");if(void 0!==t.__eventListeners&&void 0!==t.__eventListeners[r]){for(var n=t.__eventListeners[r],o=0;o<n.length;o++)n[o].listener===e.listener&&n.splice(o,1);0===n.length&&delete t.__eventListeners[r]}},normalizeListenerCallback:function(e){return"function"==typeof e||null==e?e:"object"===(void 0===e?"undefined":D(e))&&"function"==typeof e.handleEvent?e.handleEvent:function(t){e(t)}},normalizeListenerOptions:function(t){switch(void 0===t?"undefined":D(t)){case"boolean":t={capture:t};break;case"undefined":t={capture:!1};break;case"object":null===t&&(t={capture:!1});break;default:throw new Error("Unsupported options type for addEventListener")}return t.once=Boolean(t.once),t.passive=Boolean(t.passive),t.capture=Boolean(t.capture),t},normalizeListenerArguments:function(t,e,r){return{type:t,listener:this.normalizeListenerCallback(e),options:this.normalizeListenerOptions(r)}},intercept:function(t,e){for(var r=null,n=0;n<this.interceptors.length;n++)this.interceptors[n].target===t&&(r=this.interceptors[n]);null===r?(r={target:t,interceptors:[e]},this.interceptors.push(r),this.interceptAddEventListener(t,r),this.interceptRemoveEventListener(t,r)):r.interceptors.push(e)},interceptAddEventListener:function(t,a){var u=this,c=t.prototype.addEventListener;return t.prototype.addEventListener=function(t,e,r){var n=u.normalizeListenerArguments(t,e,r);if(!u.getRegisteredEventListener(this,n)){n.polyfilled={type:n.type,listener:n.listener,options:{capture:n.options.capture,once:n.options.once,passive:n.options.passive}};for(var o=0;o<a.interceptors.length;o++){var i=a.interceptors[o];"function"==typeof i.add&&i.add(n)}u.registerEventListener(this,n),c.call(this,n.polyfilled.type,n.polyfilled.listener,n.polyfilled.options)}},function(){t.prototype.addEventListener=c}},interceptRemoveEventListener:function(t,e){var i=this,a=t.prototype.removeEventListener;return t.prototype.removeEventListener=function(t,e,r){var n=i.normalizeListenerArguments(t,e,r),o=i.getRegisteredEventListener(this,n);o?(i.unregisterEventListener(this,n),a.call(this,o.polyfilled.type,o.polyfilled.listener,o.polyfilled.options)):a.call(this,t,e,r)},function(){t.prototype.removeEventListener=a}},interceptAll:function(t){this.intercept(EventTarget,t),window instanceof EventTarget||this.intercept(Window,t)},releaseAll:function(){for(var t=0,e=this.interceptors.length;t<e;t++)this.interceptors()},error:function(t){console.error(t)}};return t}()},{}],2:[function(t,e,r){var n;(n=t("./EventListenerInterceptor.js")).isSupportedOnEvent=function(t,e){return"on"+e in t},n.isSupportedTransitionEvent=function(t,e){return n.isSupportedOnEvent(t,e)||"style"in t&&void 0!==t.style.transition},n.isSupportedFullScreenEvent=function(t,e){return!!n.isSupportedOnEvent(t,e)||(/^ms/.test(e.toLowerCase())?"msRequestFullscreen"in document.body:/^moz/.test(e)?"mozRequestFullscreen"in document.body:!!/^webkit/.test(e)&&"webkitRequestFullscreen"in document.body)},n.generateEventTypes=function(){var r=this;this.eventTypes={},this.vendorPrefixes=["","webkit","moz","ms","o"],this.eventTypes.wheel=["wheel","mousewheel","DOMMouseScroll"].map(function(t){return{type:t,isSupported:r.isSupportedOnEvent}}),this.eventTypes.fullscreenchange=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","MSFullscreenChange","msfullscreenchange"].map(function(t){return{type:t,isSupported:r.isSupportedFullScreenEvent}}),this.eventTypes.fullscreenerror=["fullscreenerror","mozfullscreenerror","webkitfullscreenerror","MSFullscreenError","msfullscreenerror"].map(function(t){return{type:t,isSupported:r.isSupportedFullScreenEvent}}),["pointerlockchange","pointerlockerror","animationstart","animationiteration","animationend","pointercancel","pointerdown","pointerhover","pointermove","pointerout","pointerover","pointerup"].forEach(function(e){r.eventTypes[e]=r.vendorPrefixes.map(function(t){return{type:t+e,isSupported:r.isSupportedOnEvent}})}),["transitionstart","transitionrun","transitionend"].forEach(function(e){r.eventTypes[e]=r.vendorPrefixes.map(function(t){return{type:t+e,isSupported:r.isSupportedTransitionEvent}})})},n.getSupportedEventType=function(t,e){var r=this.eventTypes[e];if(void 0===r)return e;for(var n,o=0;o<r.length;o++)if((n=r[o]).isSupported(t,n.type))return n.type;return e},n.polyfillListenerEventTypes=function(){this.generateEventTypes();var e=this;this.interceptAll({add:function(t){t.polyfilled.type=e.getSupportedEventType(this,t.polyfilled.type)}})},n.polyfillListenerEventTypes()},{"./EventListenerInterceptor.js":1}],3:[function(t,e,r){var n;(n=t("./EventListenerInterceptor.js")).detectSupportedOptions=function(){var t=this;this.supportedOptions={once:!1,passive:!1,capture:!1,all:!1,some:!1},document.createDocumentFragment().addEventListener("test",function(){},{get once(){return!(t.supportedOptions.once=!0)},get passive(){return!(t.supportedOptions.passive=!0)},get capture(){return!(t.supportedOptions.capture=!0)}}),this.supportedOptions.all=this.supportedOptions.once&&this.supportedOptions.passive&&this.supportedOptions.capture,this.supportedOptions.some=this.supportedOptions.once||this.supportedOptions.passive||this.supportedOptions.capture},n.polyfillListenerOptions=function(){if(this.detectSupportedOptions(),!this.supportedOptions.all){var t=this;this.interceptAll({add:function(e){var r=e.options.once&&!t.supportedOptions.once,n=e.options.passive&&!t.supportedOptions.passive;if(r||n){var o=e.polyfilled.listener;e.polyfilled.listener=function(t){return r&&this.removeEventListener(e.type,e.listener,e.options),n&&(t.preventDefault=function(){throw new Error("Unable to preventDefault inside passive event listener invocation.")}),o.call(this,t)}}t.supportedOptions.some||(e.polyfilled.options=e.options.capture)}})}},n.polyfillListenerOptions()},{"./EventListenerInterceptor.js":1}],4:[function(t,e,r){e.exports=function(t,e){if("object"===(void 0===e?"undefined":D(e))&&null!==e){var r,n=Object.getPrototypeOf(e);for(r in n)if(!(r in t)){var o=Object.getOwnPropertyDescriptor(n,r);o&&Object.defineProperty(t,r,o)}for(r in e)r in t||(t[r]=e[r])}}},{}],5:[function(t,e,r){!function(n){try{new window.CustomEvent("event",{bubbles:!0,cancelable:!0})}catch(t){var e=window.CustomEvent||window.Event,r=function(t,e){e=e||{};var r=document.createEvent("CustomEvent");return r.initCustomEvent(t,void 0!==e.bubbles&&e.bubbles,void 0!==e.cancelable&&e.cancelable,void 0===e.detail?{}:e.detail),n(r,this),r};r.prototype=e.prototype,window.CustomEvent=r}}(t("./ApplyThisPrototype.js"))},{"./ApplyThisPrototype.js":4}],6:[function(t,e,r){!function(n){try{new window.Event("event",{bubbles:!0,cancelable:!0})}catch(t){var e=window.Event,r=function(t,e){e=e||{};var r=document.createEvent("Event");return r.initEvent(t,void 0!==e.bubbles&&e.bubbles,void 0!==e.cancelable&&e.cancelable,void 0===e.detail?{}:e.detail),n(r,this),r};r.prototype=e.prototype,window.Event=r}}(t("./ApplyThisPrototype.js"))},{"./ApplyThisPrototype.js":4}],7:[function(t,e,r){!function(n){try{new window.FocusEvent("event",{bubbles:!0,cancelable:!0})}catch(t){var e=window.FocusEvent||window.Event,r=function(t,e){e=e||{};var r=document.createEvent("FocusEvent");return r.initFocusEvent(t,void 0!==e.bubbles&&e.bubbles,void 0!==e.cancelable&&e.cancelable,void 0===e.view?window:e.view,void 0===e.detail?{}:e.detail,void 0===e.relatedTarget?null:e.relatedTarget),n(r,this),r};r.prototype=e.prototype,window.FocusEvent=r}}(t("./ApplyThisPrototype.js"))},{"./ApplyThisPrototype.js":4}],8:[function(t,e,r){!function(n){try{new window.KeyboardEvent("event",{bubbles:!0,cancelable:!0})}catch(t){var e=window.KeyboardEvent||window.Event,r=function(t,e){e=e||{};var r=document.createEvent("KeyboardEvent");return r.initKeyboardEvent(t,void 0!==e.bubbles&&e.bubbles,void 0!==e.cancelable&&e.cancelable,void 0===e.view?window:e.view,void 0===e.key?"":e.key,void 0===e.location?0:e.location,(!0===e.ctrlKey?"Control ":"")+(!0===e.altKey?"Alt ":"")+(!0===e.shiftKey?"Shift ":"")+(!0===e.metaKey?"Meta ":""),void 0!==e.repeat&&e.repeat,void 0===e.locale?navigator.language:e.locale),r.keyCode=void 0===e.keyCode?0:e.keyCode,r.code=void 0===e.code?"":e.code,r.charCode=void 0===e.charCode?0:e.charCode,r.char=void 0===e.charCode?"":e.charCode,r.which=void 0===e.which?0:e.which,n(r,this),r};r.prototype=e.prototype,window.KeyboardEvent=r}}(t("./ApplyThisPrototype.js"))},{"./ApplyThisPrototype.js":4}],9:[function(t,e,r){!function(n){try{new window.MouseEvent("event",{bubbles:!0,cancelable:!0})}catch(t){var e=window.MouseEvent||window.Event,r=function(t,e){e=e||{};var r=document.createEvent("MouseEvent");return r.initMouseEvent(t,void 0!==e.bubbles&&e.bubbles,void 0!==e.cancelable&&e.cancelable,void 0===e.view?window:e.view,void 0===e.detail?0:e.detail,void 0===e.screenX?0:e.screenX,void 0===e.screenY?0:e.screenY,void 0===e.clientX?0:e.clientX,void 0===e.clientY?0:e.clientY,void 0!==e.ctrlKey&&e.ctrlKey,void 0!==e.altKey&&e.altKey,void 0!==e.shiftKey&&e.shiftKey,void 0!==e.metaKey&&e.metaKey,void 0===e.button?0:e.button,void 0===e.relatedTarget?null:e.relatedTarget),r.buttons=void 0===e.buttons?0:e.buttons,r.region=void 0===e.region?null:e.region,n(r,this),r};r.prototype=e.prototype,window.MouseEvent=r}}(t("./ApplyThisPrototype.js"))},{"./ApplyThisPrototype.js":4}],10:[function(t,e,r){!function(n){try{new window.PointerEvent("event",{bubbles:!0,cancelable:!0})}catch(t){var e=window.PointerEvent||window.Event,r=function(t,e){e=e||{};var r=document.createEvent("PointerEvent");return r.initPointerEvent(t,void 0!==e.bubbles&&e.bubbles,void 0!==e.cancelable&&e.cancelable,void 0===e.view?window:e.view,void 0===e.detail?0:e.detail,void 0===e.screenX?0:e.screenX,void 0===e.screenY?0:e.screenY,void 0===e.clientX?0:e.clientX,void 0===e.clientY?0:e.clientY,void 0!==e.ctrlKey&&e.ctrlKey,void 0!==e.altKey&&e.altKey,void 0!==e.shiftKey&&e.shiftKey,void 0!==e.metaKey&&e.metaKey,void 0===e.button?0:e.button,void 0===e.relatedTarget?null:e.relatedTarget,void 0===e.offsetX?0:e.offsetX,void 0===e.offsetY?0:e.offsetY,void 0===e.width?1:e.width,void 0===e.height?1:e.height,void 0===e.pressure?0:e.pressure,void 0===e.twist?0:e.twist,void 0===e.tiltX?0:e.tiltX,void 0===e.tiltY?0:e.tiltY,void 0===e.pointerId?0:e.pointerId,void 0===e.pointerType?"":e.pointerType,void 0===e.hwTimestamp?0:e.hwTimestamp,void 0!==e.isPrimary&&e.isPrimary),r.tangentialPressure=void 0===e.tangentialPressure?0:e.tangentialPressure,n(r,this),r};r.prototype=e.prototype;var o=Object.getOwnPropertyDescriptor(r.prototype,"rotation");o&&Object.defineProperty(r.prototype,"twist",o),window.PointerEvent=r}}(t("./ApplyThisPrototype.js"))},{"./ApplyThisPrototype.js":4}],11:[function(t,e,r){t("./Event.js"),t("./CustomEvent.js"),t("./MouseEvent.js"),t("./KeyboardEvent.js"),t("./FocusEvent.js"),t("./PointerEvent.js")},{"./CustomEvent.js":5,"./Event.js":6,"./FocusEvent.js":7,"./KeyboardEvent.js":8,"./MouseEvent.js":9,"./PointerEvent.js":10}],12:[function(t,e,r){t("./constructors/index.js"),t("./ListenerOptions.js"),t("./ListenerEventTypes.js")},{"./ListenerEventTypes.js":2,"./ListenerOptions.js":3,"./constructors/index.js":11}]},{},[12]);var i="function"==typeof fetch?fetch.bind():function(o,i){return i=i||{},new Promise(function(t,e){var r=new XMLHttpRequest;for(var n in r.open(i.method||"get",o,!0),i.headers)r.setRequestHeader(n,i.headers[n]);function u(){var n,o=[],i=[],a={};return r.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(t,e,r){o.push(e=e.toLowerCase()),i.push([e,r]),n=a[e],a[e]=n?n+","+r:r}),{ok:2==(r.status/100|0),status:r.status,statusText:r.statusText,url:r.responseURL,clone:u,text:function(){return Promise.resolve(r.responseText)},json:function(){return Promise.resolve(r.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([r.response]))},headers:{keys:function(){return o},entries:function(){return i},get:function(t){return a[t.toLowerCase()]},has:function(t){return t.toLowerCase()in a}}}}r.withCredentials="include"==i.credentials,r.onload=function(){t(u())},r.onerror=e,r.send(i.body||null)})},r=(e(function(k){!function(t){var c,e=Object.prototype,s=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",n=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag",a=t.regeneratorRuntime;if(a)k.exports=a;else{(a=t.regeneratorRuntime=k.exports).wrap=g;var l="suspendedStart",f="suspendedYield",p="executing",v="completed",d={},u={};u[o]=function(){return this};var h=Object.getPrototypeOf,y=h&&h(h(P([])));y&&y!==e&&s.call(y,o)&&(u=y);var b=w.prototype=_.prototype=Object.create(u);j.prototype=b.constructor=w,w.constructor=j,w[i]=j.displayName="GeneratorFunction",a.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===j||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,i in t||(t[i]="GeneratorFunction")),t.prototype=Object.create(b),t},a.awrap=function(t){return{__await:t}},O(L.prototype),L.prototype[n]=function(){return this},a.AsyncIterator=L,a.async=function(t,e,r,n){var o=new L(g(t,e,r,n));return a.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},O(b),b[i]="Generator",b[o]=function(){return this},b.toString=function(){return"[object Generator]"},a.keys=function(r){var n=[];for(var t in r)n.push(t);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&s.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function t(t,e){return i.type="throw",i.arg=r,n.next=t,e&&(n.method="next",n.arg=c),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),u=s.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&s.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=c),d}}}function g(t,e,r,n){var o=e&&e.prototype instanceof _?e:_,i=Object.create(o.prototype),a=new T(n||[]);return i._invoke=function(i,a,u){var c=l;return function(t,e){if(c===p)throw new Error("Generator is already running");if(c===v){if("throw"===t)throw e;return x()}for(u.method=t,u.arg=e;;){var r=u.delegate;if(r){var n=E(r,u);if(n){if(n===d)continue;return n}}if("next"===u.method)u.sent=u._sent=u.arg;else if("throw"===u.method){if(c===l)throw c=v,u.arg;u.dispatchException(u.arg)}else"return"===u.method&&u.abrupt("return",u.arg);c=p;var o=m(i,a,u);if("normal"===o.type){if(c=u.done?v:f,o.arg===d)continue;return{value:o.arg,done:u.done}}"throw"===o.type&&(c=v,u.method="throw",u.arg=o.arg)}}}(t,r,a),i}function m(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}function _(){}function j(){}function w(){}function O(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function L(c){var e;this._invoke=function(r,n){function t(){return new Promise(function(t,e){!function e(t,r,n,o){var i=m(c[t],c,r);if("throw"!==i.type){var a=i.arg,u=a.value;return u&&"object"===(void 0===u?"undefined":D(u))&&s.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,n,o)},function(t){e("throw",t,n,o)}):Promise.resolve(u).then(function(t){a.value=t,n(a)},o)}o(i.arg)}(r,n,t,e)})}return e=e?e.then(t,t):t()}}function E(t,e){var r=t.iterator[e.method];if(r===c){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=c,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=m(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,d;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(s.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=c,t.done=!0,t};return n.next=n}}return{next:x}}function x(){return{value:c,done:!0}}}(function(){return this}()||Function("return this")())}),"object"==("undefined"==typeof global?"undefined":D(global))&&global&&global.Object===Object&&global),n="object"==("undefined"==typeof self?"undefined":D(self))&&self&&self.Object===Object&&self,a=r||n||Function("return this")(),u=a.Symbol,c=Object.prototype,s=c.hasOwnProperty,f=c.toString,p=u?u.toStringTag:void 0;var v=Object.prototype.toString;var d="[object Null]",h="[object Undefined]",y=u?u.toStringTag:void 0;function b(t){return null==t?void 0===t?h:d:y&&y in Object(t)?function(t){var e=s.call(t,p),r=t[p];try{var n=!(t[p]=void 0)}catch(t){}var o=f.call(t);return n&&(e?t[p]=r:delete t[p]),o}(t):function(t){return v.call(t)}(t)}function g(t){var e=void 0===t?"undefined":D(t);return null!=t&&("object"==e||"function"==e)}var m="[object AsyncFunction]",_="[object Function]",j="[object GeneratorFunction]",w="[object Proxy]";function O(t){if(!g(t))return!1;var e=b(t);return e==_||e==j||e==m||e==w}var E,A=a["__core-js_shared__"],S=(E=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"";var T=Function.prototype.toString;function P(t){if(null!=t){try{return T.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var x=/^\[object .+?Constructor\]$/,k=Function.prototype,M=Object.prototype,z=k.toString,F=M.hasOwnProperty,I=RegExp("^"+z.call(F).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function N(t){return!(!g(t)||function(t){return!!S&&S in t}(t))&&(O(t)?I:x).test(P(t))}function U(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return N(r)?r:void 0}var K=U(Object,"create");var B=Object.prototype.hasOwnProperty;var R=Object.prototype.hasOwnProperty;function $(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function q(t,e){return t===e||t!=t&&e!=e}function G(t,e){for(var r=t.length;r--;)if(q(t[r][0],e))return r;return-1}$.prototype.clear=function(){this.__data__=K?K(null):{},this.size=0},$.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},$.prototype.get=function(t){var e=this.__data__;if(K){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return B.call(e,t)?e[t]:void 0},$.prototype.has=function(t){var e=this.__data__;return K?void 0!==e[t]:R.call(e,t)},$.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=K&&void 0===e?"__lodash_hash_undefined__":e,this};var Y=Array.prototype.splice;function W(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}W.prototype.clear=function(){this.__data__=[],this.size=0},W.prototype.delete=function(t){var e=this.__data__,r=G(e,t);return!(r<0)&&(r==e.length-1?e.pop():Y.call(e,r,1),--this.size,!0)},W.prototype.get=function(t){var e=this.__data__,r=G(e,t);return r<0?void 0:e[r][1]},W.prototype.has=function(t){return-1<G(this.__data__,t)},W.prototype.set=function(t,e){var r=this.__data__,n=G(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var X=U(a,"Map");function V(t,e){var r=t.__data__;return function(t){var e=void 0===t?"undefined":D(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function J(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}J.prototype.clear=function(){this.size=0,this.__data__={hash:new $,map:new(X||W),string:new $}},J.prototype.delete=function(t){var e=V(this,t).delete(t);return this.size-=e?1:0,e},J.prototype.get=function(t){return V(this,t).get(t)},J.prototype.has=function(t){return V(this,t).has(t)},J.prototype.set=function(t,e){var r=V(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function H(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new J;++e<r;)this.add(t[e])}function Q(t){return t!=t}function Z(t,e){return!!(null==t?0:t.length)&&-1<function(t,e,r){return e==e?function(t,e,r){for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}(t,e,r):function(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,Q,r)}(t,e,0)}function tt(t,e,r){for(var n=-1,o=null==t?0:t.length;++n<o;)if(r(e,t[n]))return!0;return!1}function et(t,e){return t.has(e)}H.prototype.add=H.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},H.prototype.has=function(t){return this.__data__.has(t)};var rt=U(a,"Set");function nt(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var ot=rt&&1/nt(new rt([,-0]))[1]==1/0?function(t){return new rt(t)}:function(){},it=200;function at(t,e,r){var n=t.length;return r=void 0===r?n:r,!e&&n<=r?t:function(t,e,r){var n=-1,o=t.length;e<0&&(e=o<-e?0:o+e),(r=o<r?o:r)<0&&(r+=o),o=r<e?0:r-e>>>0,e>>>=0;for(var i=Array(o);++n<o;)i[n]=t[n+e];return i}(t,e,r)}var ut=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function ct(t){return ut.test(t)}var st="\\ud800-\\udfff",lt="["+st+"]",ft="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",pt="\\ud83c[\\udffb-\\udfff]",vt="[^"+st+"]",dt="(?:\\ud83c[\\udde6-\\uddff]){2}",ht="[\\ud800-\\udbff][\\udc00-\\udfff]",yt="(?:"+ft+"|"+pt+")"+"?",bt="[\\ufe0e\\ufe0f]?",gt=bt+yt+("(?:\\u200d(?:"+[vt,dt,ht].join("|")+")"+bt+yt+")*"),mt="(?:"+[vt+ft+"?",ft,dt,ht,lt].join("|")+")",_t=RegExp(pt+"(?="+pt+")|"+mt+gt,"g");function jt(t){return ct(t)?function(t){return t.match(_t)||[]}(t):function(t){return t.split("")}(t)}var wt=Array.isArray;function Ot(t){return null!=t&&"object"==(void 0===t?"undefined":D(t))}var Lt="[object Symbol]";function Et(t){return"symbol"==(void 0===t?"undefined":D(t))||Ot(t)&&b(t)==Lt}var At=1/0,St=u?u.prototype:void 0,Tt=St?St.toString:void 0;function Pt(t){if("string"==typeof t)return t;if(wt(t))return function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}(t,Pt)+"";if(Et(t))return Tt?Tt.call(t):"";var e=t+"";return"0"==e&&1/t==-At?"-0":e}function xt(t){return null==t?"":Pt(t)}var kt,Mt=(kt="toUpperCase",function(t){var e=ct(t=xt(t))?jt(t):void 0,r=e?e[0]:t.charAt(0),n=e?at(e,1).join(""):t.slice(1);return r[kt]()+n});function zt(t){var e=this.__data__=new W(t);this.size=e.size}zt.prototype.clear=function(){this.__data__=new W,this.size=0},zt.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},zt.prototype.get=function(t){return this.__data__.get(t)},zt.prototype.has=function(t){return this.__data__.has(t)},zt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof W){var n=r.__data__;if(!X||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new J(n)}return r.set(t,e),this.size=r.size,this};var Ft=function(){try{var t=U(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();function Ct(t,e,r){"__proto__"==e&&Ft?Ft(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Dt=Object.prototype.hasOwnProperty;function It(t,e,r){var n=t[e];Dt.call(t,e)&&q(n,r)&&(void 0!==r||e in t)||Ct(t,e,r)}function Nt(t,e,r,n){var o=!r;r=r||{};for(var i=-1,a=e.length;++i<a;){var u=e[i],c=n?n(r[u],t[u],u,r,t):void 0;void 0===c&&(c=t[u]),o?Ct(r,u,c):It(r,u,c)}return r}function Ut(t){return Ot(t)&&"[object Arguments]"==b(t)}var Kt=Object.prototype,Bt=Kt.hasOwnProperty,Rt=Kt.propertyIsEnumerable,$t=Ut(function(){return arguments}())?Ut:function(t){return Ot(t)&&Bt.call(t,"callee")&&!Rt.call(t,"callee")};var qt="object"==(void 0===t?"undefined":D(t))&&t&&!t.nodeType&&t,Gt=qt&&"object"==("undefined"==typeof module?"undefined":D(module))&&module&&!module.nodeType&&module,Yt=Gt&&Gt.exports===qt?a.Buffer:void 0,Wt=(Yt?Yt.isBuffer:void 0)||function(){return!1},Xt=9007199254740991,Vt=/^(?:0|[1-9]\d*)$/;function Jt(t,e){var r=void 0===t?"undefined":D(t);return!!(e=null==e?Xt:e)&&("number"==r||"symbol"!=r&&Vt.test(t))&&-1<t&&t%1==0&&t<e}var Ht=9007199254740991;function Qt(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=Ht}var Zt={};function te(e){return function(t){return e(t)}}Zt["[object Float32Array]"]=Zt["[object Float64Array]"]=Zt["[object Int8Array]"]=Zt["[object Int16Array]"]=Zt["[object Int32Array]"]=Zt["[object Uint8Array]"]=Zt["[object Uint8ClampedArray]"]=Zt["[object Uint16Array]"]=Zt["[object Uint32Array]"]=!0,Zt["[object Arguments]"]=Zt["[object Array]"]=Zt["[object ArrayBuffer]"]=Zt["[object Boolean]"]=Zt["[object DataView]"]=Zt["[object Date]"]=Zt["[object Error]"]=Zt["[object Function]"]=Zt["[object Map]"]=Zt["[object Number]"]=Zt["[object Object]"]=Zt["[object RegExp]"]=Zt["[object Set]"]=Zt["[object String]"]=Zt["[object WeakMap]"]=!1;var ee="object"==(void 0===t?"undefined":D(t))&&t&&!t.nodeType&&t,re=ee&&"object"==("undefined"==typeof module?"undefined":D(module))&&module&&!module.nodeType&&module,ne=re&&re.exports===ee&&r.process,oe=function(){try{var t=re&&re.require&&re.require("util").types;return t||ne&&ne.binding&&ne.binding("util")}catch(t){}}(),ie=oe&&oe.isTypedArray,ae=ie?te(ie):function(t){return Ot(t)&&Qt(t.length)&&!!Zt[b(t)]},ue=Object.prototype.hasOwnProperty;function ce(t,e){var r=wt(t),n=!r&&$t(t),o=!r&&!n&&Wt(t),i=!r&&!n&&!o&&ae(t),a=r||n||o||i,u=a?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],c=u.length;for(var s in t)!e&&!ue.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Jt(s,c))||u.push(s);return u}var se=Object.prototype;function le(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||se)}function fe(e,r){return function(t){return e(r(t))}}var pe=fe(Object.keys,Object),ve=Object.prototype.hasOwnProperty;function de(t){return null!=t&&Qt(t.length)&&!O(t)}function he(t){return de(t)?ce(t):function(t){if(!le(t))return pe(t);var e=[];for(var r in Object(t))ve.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}var ye=Object.prototype.hasOwnProperty;function be(t){if(!g(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=le(t),r=[];for(var n in t)("constructor"!=n||!e&&ye.call(t,n))&&r.push(n);return r}function ge(t){return de(t)?ce(t,!0):be(t)}var me="object"==(void 0===t?"undefined":D(t))&&t&&!t.nodeType&&t,_e=me&&"object"==("undefined"==typeof module?"undefined":D(module))&&module&&!module.nodeType&&module,je=_e&&_e.exports===me?a.Buffer:void 0,we=je?je.allocUnsafe:void 0;function Oe(){return[]}var Le=Object.prototype.propertyIsEnumerable,Ee=Object.getOwnPropertySymbols,Ae=Ee?function(e){return null==e?[]:(e=Object(e),function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i}(Ee(e),function(t){return Le.call(e,t)}))}:Oe;function Se(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}var Te=fe(Object.getPrototypeOf,Object),Pe=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Se(e,Ae(t)),t=Te(t);return e}:Oe;function xe(t,e,r){var n=e(t);return wt(t)?n:Se(n,r(t))}function ke(t){return xe(t,he,Ae)}function Me(t){return xe(t,ge,Pe)}var ze=U(a,"DataView"),Fe=U(a,"Promise"),Ce=U(a,"WeakMap"),De="[object Map]",Ie="[object Promise]",Ne="[object Set]",Ue="[object WeakMap]",Ke="[object DataView]",Be=P(ze),Re=P(X),$e=P(Fe),qe=P(rt),Ge=P(Ce),Ye=b;(ze&&Ye(new ze(new ArrayBuffer(1)))!=Ke||X&&Ye(new X)!=De||Fe&&Ye(Fe.resolve())!=Ie||rt&&Ye(new rt)!=Ne||Ce&&Ye(new Ce)!=Ue)&&(Ye=function(t){var e=b(t),r="[object Object]"==e?t.constructor:void 0,n=r?P(r):"";if(n)switch(n){case Be:return Ke;case Re:return De;case $e:return Ie;case qe:return Ne;case Ge:return Ue}return e});var We=Ye,Xe=Object.prototype.hasOwnProperty;var Ve=a.Uint8Array;function Je(t){var e=new t.constructor(t.byteLength);return new Ve(e).set(new Ve(t)),e}var He=/\w*$/;var Qe=u?u.prototype:void 0,Ze=Qe?Qe.valueOf:void 0;var tr="[object Boolean]",er="[object Date]",rr="[object Map]",nr="[object Number]",or="[object RegExp]",ir="[object Set]",ar="[object String]",ur="[object Symbol]",cr="[object ArrayBuffer]",sr="[object DataView]",lr="[object Float32Array]",fr="[object Float64Array]",pr="[object Int8Array]",vr="[object Int16Array]",dr="[object Int32Array]",hr="[object Uint8Array]",yr="[object Uint8ClampedArray]",br="[object Uint16Array]",gr="[object Uint32Array]";function mr(t,e,r){var n=t.constructor;switch(e){case cr:return Je(t);case tr:case er:return new n(+t);case sr:return function(t,e){var r=e?Je(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case lr:case fr:case pr:case vr:case dr:case hr:case yr:case br:case gr:return function(t,e){var r=e?Je(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case rr:return new n;case nr:case ar:return new n(t);case or:return function(t){var e=new t.constructor(t.source,He.exec(t));return e.lastIndex=t.lastIndex,e}(t);case ir:return new n;case ur:return function(t){return Ze?Object(Ze.call(t)):{}}(t)}}var _r=Object.create,jr=function(t){if(!g(t))return{};if(_r)return _r(t);wr.prototype=t;var e=new wr;return wr.prototype=void 0,e};function wr(){}var Or=oe&&oe.isMap,Lr=Or?te(Or):function(t){return Ot(t)&&"[object Map]"==We(t)};var Er=oe&&oe.isSet,Ar=Er?te(Er):function(t){return Ot(t)&&"[object Set]"==We(t)},Sr=1,Tr=2,Pr=4,xr="[object Arguments]",kr="[object Function]",Mr="[object GeneratorFunction]",zr="[object Object]",Fr={};function Cr(r,n,o,t,e,i){var a,u=n&Sr,c=n&Tr,s=n&Pr;if(o&&(a=e?o(r,t,e,i):o(r)),void 0!==a)return a;if(!g(r))return r;var l=wt(r);if(l){if(a=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Xe.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(r),!u)return function(t,e){var r=-1,n=t.length;for(e=e||Array(n);++r<n;)e[r]=t[r];return e}(r,a)}else{var f=We(r),p=f==kr||f==Mr;if(Wt(r))return function(t,e){if(e)return t.slice();var r=t.length,n=we?we(r):new t.constructor(r);return t.copy(n),n}(r,u);if(f==zr||f==xr||p&&!e){if(a=c||p?{}:function(t){return"function"!=typeof t.constructor||le(t)?{}:jr(Te(t))}(r),!u)return c?function(t,e){return Nt(t,Pe(t),e)}(r,function(t,e){return t&&Nt(e,ge(e),t)}(a,r)):function(t,e){return Nt(t,Ae(t),e)}(r,function(t,e){return t&&Nt(e,he(e),t)}(a,r))}else{if(!Fr[f])return e?r:{};a=mr(r,f,u)}}var v=(i=i||new zt).get(r);if(v)return v;i.set(r,a),Ar(r)?r.forEach(function(t){a.add(Cr(t,n,o,t,r,i))}):Lr(r)&&r.forEach(function(t,e){a.set(e,Cr(t,n,o,e,r,i))});var d=s?c?Me:ke:c?keysIn:he,h=l?void 0:d(r);return function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););}(h||r,function(t,e){h&&(t=r[e=t]),It(a,e,Cr(t,n,o,e,r,i))}),a}function Dr(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}Fr[xr]=Fr["[object Array]"]=Fr["[object ArrayBuffer]"]=Fr["[object DataView]"]=Fr["[object Boolean]"]=Fr["[object Date]"]=Fr["[object Float32Array]"]=Fr["[object Float64Array]"]=Fr["[object Int8Array]"]=Fr["[object Int16Array]"]=Fr["[object Int32Array]"]=Fr["[object Map]"]=Fr["[object Number]"]=Fr[zr]=Fr["[object RegExp]"]=Fr["[object Set]"]=Fr["[object String]"]=Fr["[object Symbol]"]=Fr["[object Uint8Array]"]=Fr["[object Uint8ClampedArray]"]=Fr["[object Uint16Array]"]=Fr["[object Uint32Array]"]=!0,Fr["[object Error]"]=Fr[kr]=Fr["[object WeakMap]"]=!1;var Ir=1,Nr=2;function Ur(t,e,r,n,o,i){var a=r&Ir,u=t.length,c=e.length;if(u!=c&&!(a&&u<c))return!1;var s=i.get(t);if(s&&i.get(e))return s==e;var l=-1,f=!0,p=r&Nr?new H:void 0;for(i.set(t,e),i.set(e,t);++l<u;){var v=t[l],d=e[l];if(n)var h=a?n(d,v,l,e,t,i):n(v,d,l,t,e,i);if(void 0!==h){if(h)continue;f=!1;break}if(p){if(!Dr(e,function(t,e){if(!et(p,e)&&(v===t||o(v,t,r,n,i)))return p.push(e)})){f=!1;break}}else if(v!==d&&!o(v,d,r,n,i)){f=!1;break}}return i.delete(t),i.delete(e),f}function Kr(t){var r=-1,n=Array(t.size);return t.forEach(function(t,e){n[++r]=[e,t]}),n}var Br=1,Rr=2,$r="[object Boolean]",qr="[object Date]",Gr="[object Error]",Yr="[object Map]",Wr="[object Number]",Xr="[object RegExp]",Vr="[object Set]",Jr="[object String]",Hr="[object Symbol]",Qr="[object ArrayBuffer]",Zr="[object DataView]",tn=u?u.prototype:void 0,en=tn?tn.valueOf:void 0;var rn=1,nn=Object.prototype.hasOwnProperty;var on=1,an="[object Arguments]",un="[object Array]",cn="[object Object]",sn=Object.prototype.hasOwnProperty;function ln(t,e,r,n,o,i){var a=wt(t),u=wt(e),c=a?un:We(t),s=u?un:We(e),l=(c=c==an?cn:c)==cn,f=(s=s==an?cn:s)==cn,p=c==s;if(p&&Wt(t)){if(!Wt(e))return!1;l=!(a=!0)}if(p&&!l)return i=i||new zt,a||ae(t)?Ur(t,e,r,n,o,i):function(t,e,r,n,o,i,a){switch(r){case Zr:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Qr:return!(t.byteLength!=e.byteLength||!i(new Ve(t),new Ve(e)));case $r:case qr:case Wr:return q(+t,+e);case Gr:return t.name==e.name&&t.message==e.message;case Xr:case Jr:return t==e+"";case Yr:var u=Kr;case Vr:var c=n&Br;if(u=u||nt,t.size!=e.size&&!c)return!1;var s=a.get(t);if(s)return s==e;n|=Rr,a.set(t,e);var l=Ur(u(t),u(e),n,o,i,a);return a.delete(t),l;case Hr:if(en)return en.call(t)==en.call(e)}return!1}(t,e,c,r,n,o,i);if(!(r&on)){var v=l&&sn.call(t,"__wrapped__"),d=f&&sn.call(e,"__wrapped__");if(v||d)return o(v?t.value():t,d?e.value():e,r,n,i=i||new zt)}return p&&function(t,e,r,n,o,i){var a=r&rn,u=ke(t),c=u.length;if(c!=ke(e).length&&!a)return!1;for(var s=c;s--;){var l=u[s];if(!(a?l in e:nn.call(e,l)))return!1}var f=i.get(t);if(f&&i.get(e))return f==e;var p=!0;i.set(t,e),i.set(e,t);for(var v=a;++s<c;){var d=t[l=u[s]],h=e[l];if(n)var y=a?n(h,d,l,e,t,i):n(d,h,l,t,e,i);if(!(void 0===y?d===h||o(d,h,r,n,i):y)){p=!1;break}v=v||"constructor"==l}if(p&&!v){var b=t.constructor,g=e.constructor;b!=g&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof g&&g instanceof g)&&(p=!1)}return i.delete(t),i.delete(e),p}(t,e,r,n,o,i=i||new zt)}function fn(t,e,r,n,o){return t===e||(null==t||null==e||!Ot(t)&&!Ot(e)?t!=t&&e!=e:ln(t,e,r,n,fn,o))}var pn=1,vn=2;function dn(t){return t==t&&!g(t)}function hn(e,r){return function(t){return null!=t&&(t[e]===r&&(void 0!==r||e in Object(t)))}}function yn(e){var r=function(t){for(var e=he(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,dn(o)]}return e}(e);return 1==r.length&&r[0][2]?hn(r[0][0],r[0][1]):function(t){return t===e||function(t,e,r,n){var o=r.length,i=o,a=!n;if(null==t)return!i;for(t=Object(t);o--;){var u=r[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){var c=(u=r[o])[0],s=t[c],l=u[1];if(a&&u[2]){if(void 0===s&&!(c in t))return!1}else{var f=new zt;if(n)var p=n(s,l,c,t,e,f);if(!(void 0===p?fn(l,s,pn|vn,n,f):p))return!1}}return!0}(t,e,r)}}var bn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gn=/^\w*$/;function mn(t,e){if(wt(t))return!1;var r=void 0===t?"undefined":D(t);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Et(t))||(gn.test(t)||!bn.test(t)||null!=e&&t in Object(e))}var _n="Expected a function";function jn(o,i){if("function"!=typeof o||null!=i&&"function"!=typeof i)throw new TypeError(_n);function a(){var t=arguments,e=i?i.apply(this,t):t[0],r=a.cache;if(r.has(e))return r.get(e);var n=o.apply(this,t);return a.cache=r.set(e,n)||r,n}return a.cache=new(jn.Cache||J),a}jn.Cache=J;var wn,On,Ln=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,En=/\\(\\)?/g,An=(On=(wn=jn(function(t){var o=[];return 46===t.charCodeAt(0)&&o.push(""),t.replace(Ln,function(t,e,r,n){o.push(r?n.replace(En,"$1"):e||t)}),o},function(t){return 500===On.size&&On.clear(),t})).cache,wn);function Sn(t,e){return wt(t)?t:mn(t,e)?[t]:An(xt(t))}var Tn=1/0;function Pn(t){if("string"==typeof t||Et(t))return t;var e=t+"";return"0"==e&&1/t==-Tn?"-0":e}function xn(t,e){for(var r=0,n=(e=Sn(e,t)).length;null!=t&&r<n;)t=t[Pn(e[r++])];return r&&r==n?t:void 0}function kn(t,e){return null!=t&&e in Object(t)}function Mn(t,e){return null!=t&&function(t,e,r){for(var n=-1,o=(e=Sn(e,t)).length,i=!1;++n<o;){var a=Pn(e[n]);if(!(i=null!=t&&r(t,a)))break;t=t[a]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&Qt(o)&&Jt(a,o)&&(wt(t)||$t(t))}(t,e,kn)}var zn=1,Fn=2;function Cn(r,n){return mn(r)&&dn(n)?hn(Pn(r),n):function(t){var e=function(t,e,r){var n=null==t?void 0:xn(t,e);return void 0===n?r:n}(t,r);return void 0===e&&e===n?Mn(t,r):fn(n,e,zn|Fn)}}function Dn(t){return t}function In(t){return mn(t)?function(e){return function(t){return null==t?void 0:t[e]}}(Pn(t)):function(e){return function(t){return xn(t,e)}}(t)}var Nn=1;function Un(t){return function(t){return"function"==typeof t?t:null==t?Dn:"object"==(void 0===t?"undefined":D(t))?wt(t)?Cn(t[0],t[1]):yn(t):In(t)}("function"==typeof t?t:Cr(t,Nn))}function Kn(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}var Bn,Rn;1===(Rn=Kn).length&&(Bn=Rn,Rn=function(t,e){return Kn(Bn(t),e)});function $n(t,e){var r=void 0,n=void 0;if(void 0===e){var o=!0,i=!1,a=void 0;try{for(var u,c=t[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var s=u.value;null!=s&&(void 0===r?s<=s&&(r=n=s):(s<r&&(r=s),n<s&&(n=s)))}}catch(t){i=!0,a=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw a}}}else{var l=-1,f=!0,p=!1,v=void 0;try{for(var d,h=t[Symbol.iterator]();!(f=(d=h.next()).done);f=!0){var y=d.value;null!=(y=e(y,++l,t))&&(void 0===r?y<=y&&(r=n=y):(y<r&&(r=y),n<y&&(n=y)))}}catch(t){p=!0,v=t}finally{try{!f&&h.return&&h.return()}finally{if(p)throw v}}}return[r,n]}var qn={Ordinal:"discrete",Band:"discrete",Point:"discrete",Linear:"continuous",Log:"continuous",Pow:"continuous",Sqrt:"continuous",Sequential:"continuous",Quantile:"quantile",Quantize:"discretizing",Threshold:"discretizing"},Gn={Sequential:"Linear"},Yn={discrete:function(t){return t&&t.length?function(t,e,r){var n=-1,o=Z,i=t.length,a=!0,u=[],c=u;if(r)a=!1,o=tt;else if(it<=i){var s=e?null:ot(t);if(s)return nt(s);a=!1,o=et,c=new H}else c=e?[]:u;t:for(;++n<i;){var l=t[n],f=e?e(l):l;if(l=r||0!==l?l:0,a&&f==f){for(var p=c.length;p--;)if(c[p]===f)continue t;e&&c.push(f),u.push(l)}else o(c,f,r)||(c!==u&&c.push(f),u.push(l))}return u}(t):[]},quantile:function(t){return t},discretizing:$n,continuous:$n};function Wn(t,e){return Array.isArray(t)?t:"continuous"==qn[e]?[0,1]:function(t,e){return Object.values(t).length!==t.length?t[e||t.length-1]:t}(function(t){return d3[t.startsWith("scheme")?t:"scheme"+Mt(t)]}(t.scheme),t.count)}function Xn(t,e){var r=Mt(e.scale||"Linear");e=function(t,e){return t.scheme&&!Array.isArray(t.range)&&(t.range={scheme:t.scheme},"continuous"!=qn[e]&&t.count&&(t.range.count=t.count)),t.domain||(t.domain={metric:t.metric}),t.metric=t.domain.metric||t.metric,t}(e,r);var n=d3["scale"+(Gn[r]||r)]().domain(function(t,e,r,n){return Array.isArray(e)&&"Quantile"!=n?e:Yn[qn[n]](t.map(Un(r)))}(t,e.domain,e.metric,r)).range(function(t,e){return e?t.slice().reverse():t}(Wn(e.range,r),!0===e.range.reverse||e.reverse));return"continuous"!=qn[r]||Array.isArray(e.range)?function(t){return n("object"===(void 0===t?"undefined":D(t))?Un(e.metric)(t):t)}:function(t){return d3["interpolate"+e.range.scheme](n("object"===(void 0===t?"undefined":D(t))?Un(e.metric)(t):t))}}var Vn=function(t){return function(t){return!!t&&"object"===(void 0===t?"undefined":D(t))}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===Jn}(t)}(t)};var Jn="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function Hn(t,e){return!1!==e.clone&&e.isMergeableObject(t)?Zn(function(t){return Array.isArray(t)?[]:{}}(t),t,e):t}function Qn(t,e,r){return t.concat(e).map(function(t){return Hn(t,r)})}function Zn(t,e,r){(r=r||{}).arrayMerge=r.arrayMerge||Qn,r.isMergeableObject=r.isMergeableObject||Vn;var n=Array.isArray(e);return n===Array.isArray(t)?n?r.arrayMerge(t,e,r):function(e,r,n){var o={};return n.isMergeableObject(e)&&Object.keys(e).forEach(function(t){o[t]=Hn(e[t],n)}),Object.keys(r).forEach(function(t){n.isMergeableObject(r[t])&&e[t]?o[t]=Zn(e[t],r[t],n):o[t]=Hn(r[t],n)}),o}(t,e,r):Hn(e,r)}Zn.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(t,e){return Zn(t,e,r)},{})};var to=Zn;function eo(){this.__data__=[],this.size=0}var ro=function(t,e){return t===e||t!=t&&e!=e};var no=function(t,e){for(var r=t.length;r--;)if(ro(t[r][0],e))return r;return-1},oo=Array.prototype.splice;function io(t){var e=this.__data__,r=no(e,t);return!(r<0)&&(r==e.length-1?e.pop():oo.call(e,r,1),--this.size,!0)}function ao(t){var e=this.__data__,r=no(e,t);return r<0?void 0:e[r][1]}function uo(t){return-1<no(this.__data__,t)}function co(t,e){var r=this.__data__,n=no(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function so(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}so.prototype.clear=eo,so.prototype.delete=io,so.prototype.get=ao,so.prototype.has=uo,so.prototype.set=co;var lo=so;function fo(){this.__data__=new lo,this.size=0}function po(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function vo(t){return this.__data__.get(t)}function ho(t){return this.__data__.has(t)}var yo="object"==D(C)&&C&&C.Object===Object&&C,bo="object"==("undefined"==typeof self?"undefined":D(self))&&self&&self.Object===Object&&self,go=yo||bo||Function("return this")(),mo=go.Symbol,_o=Object.prototype,jo=_o.hasOwnProperty,wo=_o.toString,Oo=mo?mo.toStringTag:void 0;var Lo=function(t){var e=jo.call(t,Oo),r=t[Oo];try{var n=!(t[Oo]=void 0)}catch(t){}var o=wo.call(t);return n&&(e?t[Oo]=r:delete t[Oo]),o},Eo=Object.prototype.toString;var Ao=function(t){return Eo.call(t)},So=mo?mo.toStringTag:void 0;var To=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":So&&So in Object(t)?Lo(t):Ao(t)};var Po=function(t){var e=void 0===t?"undefined":D(t);return null!=t&&("object"==e||"function"==e)};var xo,ko=function(t){if(!Po(t))return!1;var e=To(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Mo=go["__core-js_shared__"],zo=(xo=/[^.]+$/.exec(Mo&&Mo.keys&&Mo.keys.IE_PROTO||""))?"Symbol(src)_1."+xo:"";var Fo=function(t){return!!zo&&zo in t},Co=Function.prototype.toString;var Do=function(t){if(null!=t){try{return Co.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Io=/^\[object .+?Constructor\]$/,No=Function.prototype,Uo=Object.prototype,Ko=No.toString,Bo=Uo.hasOwnProperty,Ro=RegExp("^"+Ko.call(Bo).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var $o=function(t){return!(!Po(t)||Fo(t))&&(ko(t)?Ro:Io).test(Do(t))};var qo=function(t,e){return null==t?void 0:t[e]};var Go=function(t,e){var r=qo(t,e);return $o(r)?r:void 0},Yo=Go(go,"Map"),Wo=Go(Object,"create");function Xo(){this.__data__=Wo?Wo(null):{},this.size=0}function Vo(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Jo=Object.prototype.hasOwnProperty;function Ho(t){var e=this.__data__;if(Wo){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return Jo.call(e,t)?e[t]:void 0}var Qo=Object.prototype.hasOwnProperty;function Zo(t){var e=this.__data__;return Wo?void 0!==e[t]:Qo.call(e,t)}function ti(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Wo&&void 0===e?"__lodash_hash_undefined__":e,this}function ei(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ei.prototype.clear=Xo,ei.prototype.delete=Vo,ei.prototype.get=Ho,ei.prototype.has=Zo,ei.prototype.set=ti;var ri=ei;var ni=function(t){var e=void 0===t?"undefined":D(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var oi=function(t,e){var r=t.__data__;return ni(e)?r["string"==typeof e?"string":"hash"]:r.map};function ii(t){var e=oi(this,t).delete(t);return this.size-=e?1:0,e}function ai(t){return oi(this,t).get(t)}function ui(t){return oi(this,t).has(t)}function ci(t,e){var r=oi(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function si(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}si.prototype.clear=function(){this.size=0,this.__data__={hash:new ri,map:new(Yo||lo),string:new ri}},si.prototype.delete=ii,si.prototype.get=ai,si.prototype.has=ui,si.prototype.set=ci;var li=si;function fi(t,e){var r=this.__data__;if(r instanceof lo){var n=r.__data__;if(!Yo||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new li(n)}return r.set(t,e),this.size=r.size,this}function pi(t){var e=this.__data__=new lo(t);this.size=e.size}pi.prototype.clear=fo,pi.prototype.delete=po,pi.prototype.get=vo,pi.prototype.has=ho,pi.prototype.set=fi;var vi=pi;var di=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t},hi=function(){try{var t=Go(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var yi=function(t,e,r){"__proto__"==e&&hi?hi(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},bi=Object.prototype.hasOwnProperty;var gi=function(t,e,r){var n=t[e];bi.call(t,e)&&ro(n,r)&&(void 0!==r||e in t)||yi(t,e,r)};var mi=function(t,e,r,n){var o=!r;r=r||{};for(var i=-1,a=e.length;++i<a;){var u=e[i],c=n?n(r[u],t[u],u,r,t):void 0;void 0===c&&(c=t[u]),o?yi(r,u,c):gi(r,u,c)}return r};var _i=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var ji=function(t){return null!=t&&"object"==(void 0===t?"undefined":D(t))};var wi=function(t){return ji(t)&&"[object Arguments]"==To(t)},Oi=Object.prototype,Li=Oi.hasOwnProperty,Ei=Oi.propertyIsEnumerable,Ai=wi(function(){return arguments}())?wi:function(t){return ji(t)&&Li.call(t,"callee")&&!Ei.call(t,"callee")},Si=Array.isArray;function Ti(){return!1}var Pi=e(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?go.Buffer:void 0,i=(o?o.isBuffer:void 0)||Ti;t.exports=i}),xi=/^(?:0|[1-9]\d*)$/;var ki=function(t,e){var r=void 0===t?"undefined":D(t);return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&xi.test(t))&&-1<t&&t%1==0&&t<e};var Mi=function(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991},zi={};zi["[object Float32Array]"]=zi["[object Float64Array]"]=zi["[object Int8Array]"]=zi["[object Int16Array]"]=zi["[object Int32Array]"]=zi["[object Uint8Array]"]=zi["[object Uint8ClampedArray]"]=zi["[object Uint16Array]"]=zi["[object Uint32Array]"]=!0,zi["[object Arguments]"]=zi["[object Array]"]=zi["[object ArrayBuffer]"]=zi["[object Boolean]"]=zi["[object DataView]"]=zi["[object Date]"]=zi["[object Error]"]=zi["[object Function]"]=zi["[object Map]"]=zi["[object Number]"]=zi["[object Object]"]=zi["[object RegExp]"]=zi["[object Set]"]=zi["[object String]"]=zi["[object WeakMap]"]=!1;function Fi(t){return ji(t)&&Mi(t.length)&&!!zi[To(t)]}var Ci=function(e){return function(t){return e(t)}},Di=e(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r&&yo.process,i=function(){try{var t=n&&n.require&&n.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=i}),Ii=Di&&Di.isTypedArray,Ni=Ii?Ci(Ii):Fi,Ui=Object.prototype.hasOwnProperty;var Ki=function(t,e){var r=Si(t),n=!r&&Ai(t),o=!r&&!n&&Pi(t),i=!r&&!n&&!o&&Ni(t),a=r||n||o||i,u=a?_i(t.length,String):[],c=u.length;for(var s in t)!e&&!Ui.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||ki(s,c))||u.push(s);return u},Bi=Object.prototype;var Ri=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Bi)};var $i=function(e,r){return function(t){return e(r(t))}},qi=$i(Object.keys,Object),Gi=Object.prototype.hasOwnProperty;var Yi=function(t){if(!Ri(t))return qi(t);var e=[];for(var r in Object(t))Gi.call(t,r)&&"constructor"!=r&&e.push(r);return e};var Wi=function(t){return null!=t&&Mi(t.length)&&!ko(t)};var Xi=function(t){return Wi(t)?Ki(t):Yi(t)};var Vi=function(t,e){return t&&mi(e,Xi(e),t)};var Ji=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},Hi=Object.prototype.hasOwnProperty;var Qi=function(t){if(!Po(t))return Ji(t);var e=Ri(t),r=[];for(var n in t)("constructor"!=n||!e&&Hi.call(t,n))&&r.push(n);return r};var Zi=function(t){return Wi(t)?Ki(t,!0):Qi(t)};var ta=function(t,e){return t&&mi(e,Zi(e),t)},ea=e(function(t,e){var r=e&&!e.nodeType&&e,n=r&&t&&!t.nodeType&&t,o=n&&n.exports===r?go.Buffer:void 0,i=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=i?i(r):new t.constructor(r);return t.copy(n),n}});var ra=function(t,e){var r=-1,n=t.length;for(e=e||Array(n);++r<n;)e[r]=t[r];return e};var na=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i};function oa(){return[]}var ia=Object.prototype.propertyIsEnumerable,aa=Object.getOwnPropertySymbols,ua=aa?function(e){return null==e?[]:(e=Object(e),na(aa(e),function(t){return ia.call(e,t)}))}:oa;var ca=function(t,e){return mi(t,ua(t),e)};var sa=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t},la=$i(Object.getPrototypeOf,Object),fa=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)sa(e,ua(t)),t=la(t);return e}:oa;var pa=function(t,e){return mi(t,fa(t),e)};var va=function(t,e,r){var n=e(t);return Si(t)?n:sa(n,r(t))};var da=function(t){return va(t,Xi,ua)};var ha=function(t){return va(t,Zi,fa)},ya=Go(go,"DataView"),ba=Go(go,"Promise"),ga=Go(go,"Set"),ma=Go(go,"WeakMap"),_a="[object Map]",ja="[object Promise]",wa="[object Set]",Oa="[object WeakMap]",La="[object DataView]",Ea=Do(ya),Aa=Do(Yo),Sa=Do(ba),Ta=Do(ga),Pa=Do(ma),xa=To;(ya&&xa(new ya(new ArrayBuffer(1)))!=La||Yo&&xa(new Yo)!=_a||ba&&xa(ba.resolve())!=ja||ga&&xa(new ga)!=wa||ma&&xa(new ma)!=Oa)&&(xa=function(t){var e=To(t),r="[object Object]"==e?t.constructor:void 0,n=r?Do(r):"";if(n)switch(n){case Ea:return La;case Aa:return _a;case Sa:return ja;case Ta:return wa;case Pa:return Oa}return e});var ka=xa,Ma=Object.prototype.hasOwnProperty;var za=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Ma.call(t,"index")&&(r.index=t.index,r.input=t.input),r},Fa=go.Uint8Array;var Ca=function(t){var e=new t.constructor(t.byteLength);return new Fa(e).set(new Fa(t)),e};var Da=function(t,e){var r=e?Ca(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)},Ia=/\w*$/;var Na=function(t){var e=new t.constructor(t.source,Ia.exec(t));return e.lastIndex=t.lastIndex,e},Ua=mo?mo.prototype:void 0,Ka=Ua?Ua.valueOf:void 0;var Ba=function(t){return Ka?Object(Ka.call(t)):{}};var Ra=function(t,e){var r=e?Ca(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)};var $a=function(t,e,r){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return Ca(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return Da(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ra(t,r);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return Na(t);case"[object Set]":return new n;case"[object Symbol]":return Ba(t)}},qa=Object.create;function Ga(){}var Ya=function(t){if(!Po(t))return{};if(qa)return qa(t);Ga.prototype=t;var e=new Ga;return Ga.prototype=void 0,e};var Wa=function(t){return"function"!=typeof t.constructor||Ri(t)?{}:Ya(la(t))};function Xa(t){return ji(t)&&"[object Map]"==ka(t)}var Va=Di&&Di.isMap,Ja=Va?Ci(Va):Xa;function Ha(t){return ji(t)&&"[object Set]"==ka(t)}var Qa=Di&&Di.isSet,Za=Qa?Ci(Qa):Ha,tu=1,eu=2,ru=4,nu="[object Arguments]",ou="[object Function]",iu="[object GeneratorFunction]",au="[object Object]",uu={};uu[nu]=uu["[object Array]"]=uu["[object ArrayBuffer]"]=uu["[object DataView]"]=uu["[object Boolean]"]=uu["[object Date]"]=uu["[object Float32Array]"]=uu["[object Float64Array]"]=uu["[object Int8Array]"]=uu["[object Int16Array]"]=uu["[object Int32Array]"]=uu["[object Map]"]=uu["[object Number]"]=uu[au]=uu["[object RegExp]"]=uu["[object Set]"]=uu["[object String]"]=uu["[object Symbol]"]=uu["[object Uint8Array]"]=uu["[object Uint8ClampedArray]"]=uu["[object Uint16Array]"]=uu["[object Uint32Array]"]=!0,uu["[object Error]"]=uu[ou]=uu["[object WeakMap]"]=!1;var cu=function r(n,o,i,t,e,a){var u,c=o&tu,s=o&eu,l=o&ru;if(i&&(u=e?i(n,t,e,a):i(n)),void 0!==u)return u;if(!Po(n))return n;var f=Si(n);if(f){if(u=za(n),!c)return ra(n,u)}else{var p=ka(n),v=p==ou||p==iu;if(Pi(n))return ea(n,c);if(p==au||p==nu||v&&!e){if(u=s||v?{}:Wa(n),!c)return s?pa(n,ta(u,n)):ca(n,Vi(u,n))}else{if(!uu[p])return e?n:{};u=$a(n,p,c)}}var d=(a=a||new vi).get(n);if(d)return d;a.set(n,u),Za(n)?n.forEach(function(t){u.add(r(t,o,i,t,n,a))}):Ja(n)&&n.forEach(function(t,e){u.set(e,r(t,o,i,e,n,a))});var h=l?s?ha:da:s?keysIn:Xi,y=f?void 0:h(n);return di(y||n,function(t,e){y&&(t=n[e=t]),gi(u,e,r(t,o,i,e,n,a))}),u};var su=function(t){return cu(t,5)};function lu(t){return!0===function(t){return null!=t&&"object"===(void 0===t?"undefined":D(t))&&!1===Array.isArray(t)}(t)&&"[object Object]"===Object.prototype.toString.call(t)}function fu(t){var e,r;return!1!==lu(t)&&("function"==typeof(e=t.constructor)&&(!1!==lu(r=e.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))}window.Promise||(window.Promise=Promise);function pu(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,pu);var e=this;if(e.gData={},e.gLayers={},e._dataLayerMap={},e.options=t,e.mapDiv="string"==typeof e.options.id?document.getElementById(e.options.id):e.options.id,e.options=to(vu,e.options,{isMergeableObject:fu}),e.map=L.map(e.options.id,e.options.map),e.options.layers){for(var r in e.options.layers)e.gLayers[r]=void 0;for(var n in e.options.layers)e.buildLayer(n,e.options.layers[n]);e.drilldown(),e.current_level=0,e.drilldown_stack=[]}e.options.legend&&e.legend(e.options.legend).addTo(e.map)}var vu={map:{center:[0,0],zoom:1},cache:!0};function du(t){if(t.hasOwnProperty("data"))return"data";if(t.hasOwnProperty("url"))return"url";throw new Error("layer MUST have a data as an (array of objects) or a url (string).")}function hu(e,r,t){r&&t.forEach(function(t){"function"==typeof r[t]&&(r[t]=r[t](e.feature.properties))})}pu.prototype.addLegend=function(o){var t={position:"bottomright",height:200,width:200,shapeWidth:20,shapePadding:20,labelOffset:20,format:"d",shape:d3.symbolSquare,orient:"vertical",size:150,cells:5};o=Object.assign(t,o);var e=L.control({position:o.position});return e.onAdd=function(t){var e=document.createElement("div"),r=d3.select(e).attr("class","map-legend").append("svg").attr("height",o.height).attr("width",o.width),n=d3.legendColor().shapeWidth(o.shapeWidth).shapePadding(o.shapePadding).labelOffset(o.labelOffset).labelFormat(o.format).cells(o.cells).orient(o.orient).scale(o.scale);return o.shape&&n.shape("path",d3.symbol().type(o.shape).size(o.size)()),r.append("g").attr("class","legend").attr("transform","translate(10,10)").call(n),e},e},pu.prototype.cacheData=function(e,r){var n=this;switch(void 0===r?"undefined":D(r)){case"string":return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r in n.gData&&n.options.cache){t.next=6;break}return t.next=3,i(r);case 3:return t.next=5,t.sent.json();case 5:n.gData[r]=t.sent;case 6:return r in n._dataLayerMap?n._dataLayerMap[r].push(e):n._dataLayerMap[r]=[e],t.abrupt("return",n.gData[r]);case 8:case"end":return t.stop()}},t,this)}))();case"object":return this.gData[function(t){var e=5381,r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return e>>>0}(JSON.stringify(r))]=r,o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",r);case 1:case"end":return t.stop()}},t,this)}))()}},pu.prototype._saveLayer=function(t,e){var r=this;r.gLayers[t]=e,r.gLayers[t].addTo(r.map),"layers"in r.options&&(0==Object.keys(r.gLayers).filter(function(t){return!r.gLayers[t]}).length&&r.fire("layersloaded"),r.renderTooltip(t,r.options.layers[t]),r.renderPopup(t,r.options.layers[t]))},pu.prototype.addMismatchLabel=function(t){var e={style:{color:"black",padding:"5px",border:"2px solid #cccccc","border-radius":"10px","background-color":"#ffffff"},position:"bottomleft"},r=document.createElement("div");r.setAttribute("class","mismatch-log"),r.innerHTML=t+" Mismatches found!",e.html=r;this.addNote(e)},pu.prototype.addNote=function(e){var t=L.control({position:e.position||"bottomleft"});t.onAdd=function(t){return e.style&&function(t,e){for(var r in e)t.style[r]=e[r]}(e.html,e.style),e.html},t.addTo(this.map)},pu.prototype.mergeData=function(t,e,i){var a={};function r(t){var e="string"==typeof t.properties[i.mapKey]?t.properties[i.mapKey].toLowerCase():t.properties[i.mapKey],r=a[e],n={isMatched:!0,feature:t};for(var o in r)t.properties[o]=r[o];return void 0===r&&(n.isMatched=!1),n}e.forEach(function(t){var e="string"==typeof t[i.dataKey]?t[i.dataKey].toLowerCase():t[i.dataKey];a[e]=t});var n="";switch(t.type){case"Feature":case"FeatureCollection":return(n=t.features.map(r).filter(function(t){return!t.isMatched}))&&0<n.length&&(i.mismatch&&"function"==typeof i.mismatch?i.mismatch(n):i&&!i.mismatch&&this.addMismatchLabel(n.length)),t;case"Topology":return(n=t.objects[Object.keys(t.objects)[0]].geometries.map(r).filter(function(t){return!t.isMatched}))&&0<n.length&&(i.mismatch&&"function"==typeof i.mismatch?i.mismatch(n):i&&!i.mismatch&&this.addMismatchLabel(n.length)),t;default:return t.map(function(t){var e=a[t[i.mapKey]];for(var r in e)t[r]=e[r]}),t}},pu.prototype.fire=function(t){this.mapDiv.dispatchEvent(new CustomEvent(t))},pu.prototype.on=function(t,e,r){this.mapDiv.addEventListener(t,e,r)},pu.prototype.off=function(t,e,r){this.mapDiv.removeEventListener(t,e,r)},pu.prototype.buildLayer=function(o,i){var r,a=this;switch(o in a.options||(a.options.layers[o]=i),a.map.hasLayer(a.gLayers[o])&&a.map.removeLayer(a.gLayers[o]),i.type.toLowerCase()){case"tile":r=L.tileLayer(i.url,i.options),this._saveLayer(o,r),a.fire(o+"loaded");break;case"topojson":case"geojson":a.cacheData(o,i[du(i)]).then(function(e){"link"in i?a.cacheData(o,i.link[du(i.link)]).then(function(t){a.mismatch_array=[],a.mergeData(e,t,i.link),r=new L.TopoJSON(e,i.options),a._saveLayer(o,r),"attrs"in i&&a._choropleth(o,i),a.fitToLayer(o),a.fire(o+"loaded")}):(r=new L.TopoJSON(e,i.options),a._saveLayer(o,r),"attrs"in i&&a._choropleth(o,i),a.fitToLayer(o),a.fire(o+"loaded"))});break;case"marker":var n=[];a.cacheData(o,i[du(i)]).then(function(t){t.forEach(function(t){var e=L.marker([t[i.latitude],t[i.longitude]],i.options);e.feature={},e.feature.properties=t,n.push(e)}),a.fitToLayer(L.featureGroup(n)),a._saveLayer(o,L.featureGroup(n)),a.fire(o+"loaded")});break;case"circle":case"circlemarker":var u="circle"===i.type.toLowerCase()?L.circle:L.circleMarker;a.cacheData(o,i[du(i)]).then(function(e){var r=[];function n(){e.forEach(function(t){var e=u([t[i.latitude],t[i.longitude]],i.options);e.feature={},e.feature.properties=t,r.push(e)}),a._saveLayer(o,L.featureGroup(r))}"link"in i?a.cacheData(o,i.link[du(i.link)]).then(function(t){a.mergeData(e,t,i.link),n(),"attrs"in i&&a._choropleth(o,i),a.fitToLayer(o)}):(n(),"attrs"in i&&a._choropleth(o,i),a.fitToLayer(o))});break;default:throw new Error("Invalid layer type")}},pu.prototype.removeLayer=function(t){var e=this;if(e.map.hasLayer(e.gLayers[t])&&e.gLayers[t]){var r=e.gLayers[t];return e.map.removeLayer(r),r}throw new Error("Layer "+t+" is not available")},pu.prototype.addLayer=function(t,e){var r=this;if(t&&e)r.buildLayer(t,e);else{if(!r.gLayers[t]||r.map.hasLayer(r.gLayers[t]))throw new Error("Layer "+t+" is already existed or not created");r.map.addLayer(r.gLayers[t])}},pu.prototype._choropleth=function(t,a,u){var c=this.gLayers[t],s=this;c.eachLayer(function(t){var e,r,n,o,i={};if(a.options&&a.options.style&&t.setStyle(a.options.style),!u||"function"!=typeof u||!1!==u(t.feature.properties)){for(e in a.attrs)"tooltip"!=e&&"tooltipOptions"!=e&&("object"==D(a.attrs[e])?(r="string"==typeof(n=a.attrs[e].metric)?function(t){return t[n]}:n,o=a.attrs[e].domain?a.attrs[e].domain:s._calculateMinMax(c,r),void 0!==r(t.feature.properties)&&(i[e]=Xn([],{metric:n,domain:o,scheme:a.attrs[e].scheme,scale:a.attrs[e].scale,range:a.attrs[e].range})(t.feature.properties))):i[e]=a.attrs[e]);t.setStyle(i)}}),a.legend&&(s.mapDiv.querySelector(".map-legend")&&s.mapDiv.querySelector(".map-legend").remove(),s.addLegend(a.legend).addTo(s.map))},pu.prototype._calculateMinMax=function(t,r){var n,o;return t.eachLayer(function(t){var e=r(t.feature.properties);e&&(o&&n||(n=o=e),e<n&&(n=e),o<e&&(o=e))}),[n,o]},pu.prototype.drilldown=function(t){var e=this;e.on("layersloaded",function(){e.options.drilldown&&(e.drilldown_stack.push(e.options.drilldown.rootLayer),e.drilldown_recursive(e.options.drilldown.rootLayer))},{once:!0})},pu.prototype.drilldown_recursive=function(r){var n=this,o=su(n.options.drilldown.levels);n.gLayers[r].eachLayer(function(e){e.on("click",function(){if(e.off("click"),o.length==n.current_level)n.fitToLayer(e);else{var t=su(o[n.current_level]);hu(e,t,["layerName"]),hu(e,t.layerOptions,["url","data"]),hu(e,t.layerOptions.link,["url","data"]),n.options.layers[t.layerName]=t.layerOptions,n.buildLayer(t.layerName,t.layerOptions),n.map.removeLayer(n.gLayers[r]),n.drilldown_stack.push(t.layerName),n.current_level+=1,n.on(t.layerName+"loaded",function(){n.renderTooltip(t.layerName,t.layerOptions),n.drilldown_recursive(t.layerName)},{once:!0})}})})},pu.prototype.drillup=function(){var t=this;if(0!=t.current_level){t.current_level-=1,t.map.removeLayer(t.gLayers[t.drilldown_stack.pop()]);var e=t.drilldown_stack[t.drilldown_stack.length-1];t.fitToLayer(t.gLayers[e]),t.gLayers[e].addTo(t.map),t.drilldown_recursive(e)}},pu.prototype.renderPopup=function(t,r){if(r.popup){var n=r.popupOptions?r.popupOptions:{};this.gLayers[t].eachLayer(function(t){var e="function"==typeof r.popup?r.popup(t.feature.properties):r.popup;t.bindPopup(e,n)})}},pu.prototype.renderTooltip=function(t,i){if(i.tooltip){var a=this,u=i.tooltipOptions?i.tooltipOptions:{},c=a.map.latLngToContainerPoint(a.gLayers[t].getBounds().getCenter());a.gLayers[t].eachLayer(function(t){var e="function"==typeof i.tooltip?i.tooltip(t.feature.properties):i.tooltip,r=Object.assign({},u);if("function"==typeof u.direction){var n="marker"==i.type.toLowerCase()?[t.getLatLng().lat,t.getLatLng().lng]:t.getBounds().getCenter(),o=a.map.latLngToContainerPoint(n);r.direction=u.direction({centerPoint:c,tooltipPoint:o,properties:t.feature.properties})}t.bindTooltip(e,r)})}},pu.prototype.zoomHandler=function(t,e,r){var n=this;n.map.on("zoom",function(){r=r||n.map.getMaxZoom(),n.map.getZoom()<e||n.map.getZoom()>r?n.map.hasLayer(n.gLayers[t])&&n.map.removeLayer(n.gLayers[t]):n.map.hasLayer(n.gLayers[t])||n.map.addLayer(n.gLayers[t])})},pu.prototype.fitToLayer=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.options.fitbounds,r="string"==typeof t?this.gLayers[t]:t;this.map.fitBounds(r.getBounds(),e)},L.TopoJSON=L.GeoJSON.extend({addData:function(t){var e,r;if("Topology"===t.type)for(e in t.objects)r=topojson.feature(t,t.objects[e]),L.GeoJSON.prototype.addData.call(this,r);else L.GeoJSON.prototype.addData.call(this,t);return this}}),t.MapViewer=pu,t.mapviewer=function(t){return new pu(t)},t.version="0.17.3",Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=mapviewer.min.js.map
