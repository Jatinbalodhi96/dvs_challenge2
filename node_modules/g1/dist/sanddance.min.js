!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((t=t||self).g1=t.g1||{})}(this,function(t){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="object"==("undefined"==typeof global?"undefined":o(global))&&global&&global.Object===Object&&global,e="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,n=r||e||Function("return this")(),u=n.Symbol,i=Object.prototype,a=i.hasOwnProperty,c=i.toString,f=u?u.toStringTag:void 0;var s=Object.prototype.toString;var l="[object Null]",d="[object Undefined]",v=u?u.toStringTag:void 0;function p(t){return null==t?void 0===t?d:l:v&&v in Object(t)?function(t){var r=a.call(t,f),e=t[f];try{var n=!(t[f]=void 0)}catch(t){}var o=c.call(t);return n&&(r?t[f]=e:delete t[f]),o}(t):function(t){return s.call(t)}(t)}function b(t){var r=void 0===t?"undefined":o(t);return null!=t&&("object"==r||"function"==r)}var h="[object AsyncFunction]",y="[object Function]",j="[object GeneratorFunction]",_="[object Proxy]";function g(t){if(!b(t))return!1;var r=p(t);return r==y||r==j||r==h||r==_}var m,w=n["__core-js_shared__"],O=(m=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"";var A=Function.prototype.toString;function S(t){if(null!=t){try{return A.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var z=/^\[object .+?Constructor\]$/,x=Function.prototype,M=Object.prototype,P=x.toString,E=M.hasOwnProperty,I=RegExp("^"+P.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function U(t){return!(!b(t)||function(t){return!!O&&O in t}(t))&&(g(t)?I:z).test(S(t))}function k(t,r){var e=function(t,r){return null==t?void 0:t[r]}(t,r);return U(e)?e:void 0}var F=k(Object,"create");var B=Object.prototype.hasOwnProperty;var L=Object.prototype.hasOwnProperty;function T(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}function q(t,r){return t===r||t!=t&&r!=r}function $(t,r){for(var e=t.length;e--;)if(q(t[e][0],r))return e;return-1}T.prototype.clear=function(){this.__data__=F?F(null):{},this.size=0},T.prototype.delete=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},T.prototype.get=function(t){var r=this.__data__;if(F){var e=r[t];return"__lodash_hash_undefined__"===e?void 0:e}return B.call(r,t)?r[t]:void 0},T.prototype.has=function(t){var r=this.__data__;return F?void 0!==r[t]:L.call(r,t)},T.prototype.set=function(t,r){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=F&&void 0===r?"__lodash_hash_undefined__":r,this};var D=Array.prototype.splice;function C(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}C.prototype.clear=function(){this.__data__=[],this.size=0},C.prototype.delete=function(t){var r=this.__data__,e=$(r,t);return!(e<0)&&(e==r.length-1?r.pop():D.call(r,e,1),--this.size,!0)},C.prototype.get=function(t){var r=this.__data__,e=$(r,t);return e<0?void 0:r[e][1]},C.prototype.has=function(t){return-1<$(this.__data__,t)},C.prototype.set=function(t,r){var e=this.__data__,n=$(e,t);return n<0?(++this.size,e.push([t,r])):e[n][1]=r,this};var N=k(n,"Map");function R(t,r){var e=t.__data__;return function(t){var r=void 0===t?"undefined":o(t);return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t}(r)?e["string"==typeof r?"string":"hash"]:e.map}function V(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}V.prototype.clear=function(){this.size=0,this.__data__={hash:new T,map:new(N||C),string:new T}},V.prototype.delete=function(t){var r=R(this,t).delete(t);return this.size-=r?1:0,r},V.prototype.get=function(t){return R(this,t).get(t)},V.prototype.has=function(t){return R(this,t).has(t)},V.prototype.set=function(t,r){var e=R(this,t),n=e.size;return e.set(t,r),this.size+=e.size==n?0:1,this};function W(t){var r=-1,e=null==t?0:t.length;for(this.__data__=new V;++r<e;)this.add(t[r])}function X(t){return t!=t}function Y(t,r){return!!(null==t?0:t.length)&&-1<function(t,r,e){return r==r?function(t,r,e){for(var n=e-1,o=t.length;++n<o;)if(t[n]===r)return n;return-1}(t,r,e):function(t,r,e,n){for(var o=t.length,u=e+(n?1:-1);n?u--:++u<o;)if(r(t[u],u,t))return u;return-1}(t,X,e)}(t,r,0)}function Q(t,r,e){for(var n=-1,o=null==t?0:t.length;++n<o;)if(e(r,t[n]))return!0;return!1}function G(t,r){return t.has(r)}W.prototype.add=W.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},W.prototype.has=function(t){return this.__data__.has(t)};var H=k(n,"Set");function J(t){var r=-1,e=Array(t.size);return t.forEach(function(t){e[++r]=t}),e}var K=H&&1/J(new H([,-0]))[1]==1/0?function(t){return new H(t)}:function(){},Z=200;function tt(t,r,e){var n=t.length;return e=void 0===e?n:e,!r&&n<=e?t:function(t,r,e){var n=-1,o=t.length;r<0&&(r=o<-r?0:o+r),(e=o<e?o:e)<0&&(e+=o),o=e<r?0:e-r>>>0,r>>>=0;for(var u=Array(o);++n<o;)u[n]=t[n+r];return u}(t,r,e)}var rt=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function et(t){return rt.test(t)}var nt="\\ud800-\\udfff",ot="["+nt+"]",ut="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",it="\\ud83c[\\udffb-\\udfff]",at="[^"+nt+"]",ct="(?:\\ud83c[\\udde6-\\uddff]){2}",ft="[\\ud800-\\udbff][\\udc00-\\udfff]",st="(?:"+ut+"|"+it+")"+"?",lt="[\\ufe0e\\ufe0f]?",dt=lt+st+("(?:\\u200d(?:"+[at,ct,ft].join("|")+")"+lt+st+")*"),vt="(?:"+[at+ut+"?",ut,ct,ft,ot].join("|")+")",pt=RegExp(it+"(?="+it+")|"+vt+dt,"g");function ht(t){return et(t)?function(t){return t.match(pt)||[]}(t):function(t){return t.split("")}(t)}var bt=Array.isArray;function yt(t){return null!=t&&"object"==(void 0===t?"undefined":o(t))}var jt="[object Symbol]";function _t(t){return"symbol"==(void 0===t?"undefined":o(t))||yt(t)&&p(t)==jt}var gt=1/0,mt=u?u.prototype:void 0,wt=mt?mt.toString:void 0;function Ot(t){if("string"==typeof t)return t;if(bt(t))return function(t,r){for(var e=-1,n=null==t?0:t.length,o=Array(n);++e<n;)o[e]=r(t[e],e,t);return o}(t,Ot)+"";if(_t(t))return wt?wt.call(t):"";var r=t+"";return"0"==r&&1/t==-gt?"-0":r}function At(t){return null==t?"":Ot(t)}var St,zt=(St="toUpperCase",function(t){var r=et(t=At(t))?ht(t):void 0,e=r?r[0]:t.charAt(0),n=r?tt(r,1).join(""):t.slice(1);return e[St]()+n});function xt(t){var r=this.__data__=new C(t);this.size=r.size}xt.prototype.clear=function(){this.__data__=new C,this.size=0},xt.prototype.delete=function(t){var r=this.__data__,e=r.delete(t);return this.size=r.size,e},xt.prototype.get=function(t){return this.__data__.get(t)},xt.prototype.has=function(t){return this.__data__.has(t)},xt.prototype.set=function(t,r){var e=this.__data__;if(e instanceof C){var n=e.__data__;if(!N||n.length<199)return n.push([t,r]),this.size=++e.size,this;e=this.__data__=new V(n)}return e.set(t,r),this.size=e.size,this};var Mt=function(){try{var t=k(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();function Pt(t,r,e){"__proto__"==r&&Mt?Mt(t,r,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[r]=e}var Et=Object.prototype.hasOwnProperty;function It(t,r,e){var n=t[r];Et.call(t,r)&&q(n,e)&&(void 0!==e||r in t)||Pt(t,r,e)}function Ut(t,r,e,n){var o=!e;e=e||{};for(var u=-1,i=r.length;++u<i;){var a=r[u],c=n?n(e[a],t[a],a,e,t):void 0;void 0===c&&(c=t[a]),o?Pt(e,a,c):It(e,a,c)}return e}function kt(t){return yt(t)&&"[object Arguments]"==p(t)}var Ft=Object.prototype,Bt=Ft.hasOwnProperty,Lt=Ft.propertyIsEnumerable,Tt=kt(function(){return arguments}())?kt:function(t){return yt(t)&&Bt.call(t,"callee")&&!Lt.call(t,"callee")};var qt="object"==(void 0===t?"undefined":o(t))&&t&&!t.nodeType&&t,$t=qt&&"object"==("undefined"==typeof module?"undefined":o(module))&&module&&!module.nodeType&&module,Dt=$t&&$t.exports===qt?n.Buffer:void 0,Ct=(Dt?Dt.isBuffer:void 0)||function(){return!1},Nt=9007199254740991,Rt=/^(?:0|[1-9]\d*)$/;function Vt(t,r){var e=void 0===t?"undefined":o(t);return!!(r=null==r?Nt:r)&&("number"==e||"symbol"!=e&&Rt.test(t))&&-1<t&&t%1==0&&t<r}var Wt=9007199254740991;function Xt(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=Wt}var Yt={};function Qt(r){return function(t){return r(t)}}Yt["[object Float32Array]"]=Yt["[object Float64Array]"]=Yt["[object Int8Array]"]=Yt["[object Int16Array]"]=Yt["[object Int32Array]"]=Yt["[object Uint8Array]"]=Yt["[object Uint8ClampedArray]"]=Yt["[object Uint16Array]"]=Yt["[object Uint32Array]"]=!0,Yt["[object Arguments]"]=Yt["[object Array]"]=Yt["[object ArrayBuffer]"]=Yt["[object Boolean]"]=Yt["[object DataView]"]=Yt["[object Date]"]=Yt["[object Error]"]=Yt["[object Function]"]=Yt["[object Map]"]=Yt["[object Number]"]=Yt["[object Object]"]=Yt["[object RegExp]"]=Yt["[object Set]"]=Yt["[object String]"]=Yt["[object WeakMap]"]=!1;var Gt="object"==(void 0===t?"undefined":o(t))&&t&&!t.nodeType&&t,Ht=Gt&&"object"==("undefined"==typeof module?"undefined":o(module))&&module&&!module.nodeType&&module,Jt=Ht&&Ht.exports===Gt&&r.process,Kt=function(){try{var t=Ht&&Ht.require&&Ht.require("util").types;return t||Jt&&Jt.binding&&Jt.binding("util")}catch(t){}}(),Zt=Kt&&Kt.isTypedArray,tr=Zt?Qt(Zt):function(t){return yt(t)&&Xt(t.length)&&!!Yt[p(t)]},rr=Object.prototype.hasOwnProperty;function er(t,r){var e=bt(t),n=!e&&Tt(t),o=!e&&!n&&Ct(t),u=!e&&!n&&!o&&tr(t),i=e||n||o||u,a=i?function(t,r){for(var e=-1,n=Array(t);++e<t;)n[e]=r(e);return n}(t.length,String):[],c=a.length;for(var f in t)!r&&!rr.call(t,f)||i&&("length"==f||o&&("offset"==f||"parent"==f)||u&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||Vt(f,c))||a.push(f);return a}var nr=Object.prototype;function or(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||nr)}function ur(r,e){return function(t){return r(e(t))}}var ir=ur(Object.keys,Object),ar=Object.prototype.hasOwnProperty;function cr(t){return null!=t&&Xt(t.length)&&!g(t)}function fr(t){return cr(t)?er(t):function(t){if(!or(t))return ir(t);var r=[];for(var e in Object(t))ar.call(t,e)&&"constructor"!=e&&r.push(e);return r}(t)}var sr=Object.prototype.hasOwnProperty;function lr(t){if(!b(t))return function(t){var r=[];if(null!=t)for(var e in Object(t))r.push(e);return r}(t);var r=or(t),e=[];for(var n in t)("constructor"!=n||!r&&sr.call(t,n))&&e.push(n);return e}function dr(t){return cr(t)?er(t,!0):lr(t)}var vr="object"==(void 0===t?"undefined":o(t))&&t&&!t.nodeType&&t,pr=vr&&"object"==("undefined"==typeof module?"undefined":o(module))&&module&&!module.nodeType&&module,hr=pr&&pr.exports===vr?n.Buffer:void 0,br=hr?hr.allocUnsafe:void 0;function yr(){return[]}var jr=Object.prototype.propertyIsEnumerable,_r=Object.getOwnPropertySymbols,gr=_r?function(r){return null==r?[]:(r=Object(r),function(t,r){for(var e=-1,n=null==t?0:t.length,o=0,u=[];++e<n;){var i=t[e];r(i,e,t)&&(u[o++]=i)}return u}(_r(r),function(t){return jr.call(r,t)}))}:yr;function mr(t,r){for(var e=-1,n=r.length,o=t.length;++e<n;)t[o+e]=r[e];return t}var wr=ur(Object.getPrototypeOf,Object),Or=Object.getOwnPropertySymbols?function(t){for(var r=[];t;)mr(r,gr(t)),t=wr(t);return r}:yr;function Ar(t,r,e){var n=r(t);return bt(t)?n:mr(n,e(t))}function Sr(t){return Ar(t,fr,gr)}function zr(t){return Ar(t,dr,Or)}var xr=k(n,"DataView"),Mr=k(n,"Promise"),Pr=k(n,"WeakMap"),Er="[object Map]",Ir="[object Promise]",Ur="[object Set]",kr="[object WeakMap]",Fr="[object DataView]",Br=S(xr),Lr=S(N),Tr=S(Mr),qr=S(H),$r=S(Pr),Dr=p;(xr&&Dr(new xr(new ArrayBuffer(1)))!=Fr||N&&Dr(new N)!=Er||Mr&&Dr(Mr.resolve())!=Ir||H&&Dr(new H)!=Ur||Pr&&Dr(new Pr)!=kr)&&(Dr=function(t){var r=p(t),e="[object Object]"==r?t.constructor:void 0,n=e?S(e):"";if(n)switch(n){case Br:return Fr;case Lr:return Er;case Tr:return Ir;case qr:return Ur;case $r:return kr}return r});var Cr=Dr,Nr=Object.prototype.hasOwnProperty;var Rr=n.Uint8Array;function Vr(t){var r=new t.constructor(t.byteLength);return new Rr(r).set(new Rr(t)),r}var Wr=/\w*$/;var Xr=u?u.prototype:void 0,Yr=Xr?Xr.valueOf:void 0;var Qr="[object Boolean]",Gr="[object Date]",Hr="[object Map]",Jr="[object Number]",Kr="[object RegExp]",Zr="[object Set]",te="[object String]",re="[object Symbol]",ee="[object ArrayBuffer]",ne="[object DataView]",oe="[object Float32Array]",ue="[object Float64Array]",ie="[object Int8Array]",ae="[object Int16Array]",ce="[object Int32Array]",fe="[object Uint8Array]",se="[object Uint8ClampedArray]",le="[object Uint16Array]",de="[object Uint32Array]";function ve(t,r,e){var n=t.constructor;switch(r){case ee:return Vr(t);case Qr:case Gr:return new n(+t);case ne:return function(t,r){var e=r?Vr(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case oe:case ue:case ie:case ae:case ce:case fe:case se:case le:case de:return function(t,r){var e=r?Vr(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}(t,e);case Hr:return new n;case Jr:case te:return new n(t);case Kr:return function(t){var r=new t.constructor(t.source,Wr.exec(t));return r.lastIndex=t.lastIndex,r}(t);case Zr:return new n;case re:return function(t){return Yr?Object(Yr.call(t)):{}}(t)}}var pe=Object.create,he=function(t){if(!b(t))return{};if(pe)return pe(t);be.prototype=t;var r=new be;return be.prototype=void 0,r};function be(){}var ye=Kt&&Kt.isMap,je=ye?Qt(ye):function(t){return yt(t)&&"[object Map]"==Cr(t)};var _e=Kt&&Kt.isSet,ge=_e?Qt(_e):function(t){return yt(t)&&"[object Set]"==Cr(t)},me=1,we=2,Oe=4,Ae="[object Arguments]",Se="[object Function]",ze="[object GeneratorFunction]",xe="[object Object]",Me={};function Pe(e,n,o,t,r,u){var i,a=n&me,c=n&we,f=n&Oe;if(o&&(i=r?o(e,t,r,u):o(e)),void 0!==i)return i;if(!b(e))return e;var s=bt(e);if(s){if(i=function(t){var r=t.length,e=new t.constructor(r);return r&&"string"==typeof t[0]&&Nr.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(e),!a)return function(t,r){var e=-1,n=t.length;for(r=r||Array(n);++e<n;)r[e]=t[e];return r}(e,i)}else{var l=Cr(e),d=l==Se||l==ze;if(Ct(e))return function(t,r){if(r)return t.slice();var e=t.length,n=br?br(e):new t.constructor(e);return t.copy(n),n}(e,a);if(l==xe||l==Ae||d&&!r){if(i=c||d?{}:function(t){return"function"!=typeof t.constructor||or(t)?{}:he(wr(t))}(e),!a)return c?function(t,r){return Ut(t,Or(t),r)}(e,function(t,r){return t&&Ut(r,dr(r),t)}(i,e)):function(t,r){return Ut(t,gr(t),r)}(e,function(t,r){return t&&Ut(r,fr(r),t)}(i,e))}else{if(!Me[l])return r?e:{};i=ve(e,l,a)}}var v=(u=u||new xt).get(e);if(v)return v;u.set(e,i),ge(e)?e.forEach(function(t){i.add(Pe(t,n,o,t,e,u))}):je(e)&&e.forEach(function(t,r){i.set(r,Pe(t,n,o,r,e,u))});var p=f?c?zr:Sr:c?keysIn:fr,h=s?void 0:p(e);return function(t,r){for(var e=-1,n=null==t?0:t.length;++e<n&&!1!==r(t[e],e,t););}(h||e,function(t,r){h&&(t=e[r=t]),It(i,r,Pe(t,n,o,r,e,u))}),i}function Ee(t,r){for(var e=-1,n=null==t?0:t.length;++e<n;)if(r(t[e],e,t))return!0;return!1}Me[Ae]=Me["[object Array]"]=Me["[object ArrayBuffer]"]=Me["[object DataView]"]=Me["[object Boolean]"]=Me["[object Date]"]=Me["[object Float32Array]"]=Me["[object Float64Array]"]=Me["[object Int8Array]"]=Me["[object Int16Array]"]=Me["[object Int32Array]"]=Me["[object Map]"]=Me["[object Number]"]=Me[xe]=Me["[object RegExp]"]=Me["[object Set]"]=Me["[object String]"]=Me["[object Symbol]"]=Me["[object Uint8Array]"]=Me["[object Uint8ClampedArray]"]=Me["[object Uint16Array]"]=Me["[object Uint32Array]"]=!0,Me["[object Error]"]=Me[Se]=Me["[object WeakMap]"]=!1;var Ie=1,Ue=2;function ke(t,r,e,n,o,u){var i=e&Ie,a=t.length,c=r.length;if(a!=c&&!(i&&a<c))return!1;var f=u.get(t);if(f&&u.get(r))return f==r;var s=-1,l=!0,d=e&Ue?new W:void 0;for(u.set(t,r),u.set(r,t);++s<a;){var v=t[s],p=r[s];if(n)var h=i?n(p,v,s,r,t,u):n(v,p,s,t,r,u);if(void 0!==h){if(h)continue;l=!1;break}if(d){if(!Ee(r,function(t,r){if(!G(d,r)&&(v===t||o(v,t,e,n,u)))return d.push(r)})){l=!1;break}}else if(v!==p&&!o(v,p,e,n,u)){l=!1;break}}return u.delete(t),u.delete(r),l}function Fe(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}var Be=1,Le=2,Te="[object Boolean]",qe="[object Date]",$e="[object Error]",De="[object Map]",Ce="[object Number]",Ne="[object RegExp]",Re="[object Set]",Ve="[object String]",We="[object Symbol]",Xe="[object ArrayBuffer]",Ye="[object DataView]",Qe=u?u.prototype:void 0,Ge=Qe?Qe.valueOf:void 0;var He=1,Je=Object.prototype.hasOwnProperty;var Ke=1,Ze="[object Arguments]",tn="[object Array]",rn="[object Object]",en=Object.prototype.hasOwnProperty;function nn(t,r,e,n,o,u){var i=bt(t),a=bt(r),c=i?tn:Cr(t),f=a?tn:Cr(r),s=(c=c==Ze?rn:c)==rn,l=(f=f==Ze?rn:f)==rn,d=c==f;if(d&&Ct(t)){if(!Ct(r))return!1;s=!(i=!0)}if(d&&!s)return u=u||new xt,i||tr(t)?ke(t,r,e,n,o,u):function(t,r,e,n,o,u,i){switch(e){case Ye:if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)return!1;t=t.buffer,r=r.buffer;case Xe:return!(t.byteLength!=r.byteLength||!u(new Rr(t),new Rr(r)));case Te:case qe:case Ce:return q(+t,+r);case $e:return t.name==r.name&&t.message==r.message;case Ne:case Ve:return t==r+"";case De:var a=Fe;case Re:var c=n&Be;if(a=a||J,t.size!=r.size&&!c)return!1;var f=i.get(t);if(f)return f==r;n|=Le,i.set(t,r);var s=ke(a(t),a(r),n,o,u,i);return i.delete(t),s;case We:if(Ge)return Ge.call(t)==Ge.call(r)}return!1}(t,r,c,e,n,o,u);if(!(e&Ke)){var v=s&&en.call(t,"__wrapped__"),p=l&&en.call(r,"__wrapped__");if(v||p)return o(v?t.value():t,p?r.value():r,e,n,u=u||new xt)}return d&&function(t,r,e,n,o,u){var i=e&He,a=Sr(t),c=a.length;if(c!=Sr(r).length&&!i)return!1;for(var f=c;f--;){var s=a[f];if(!(i?s in r:Je.call(r,s)))return!1}var l=u.get(t);if(l&&u.get(r))return l==r;var d=!0;u.set(t,r),u.set(r,t);for(var v=i;++f<c;){var p=t[s=a[f]],h=r[s];if(n)var b=i?n(h,p,s,r,t,u):n(p,h,s,t,r,u);if(!(void 0===b?p===h||o(p,h,e,n,u):b)){d=!1;break}v=v||"constructor"==s}if(d&&!v){var y=t.constructor,j=r.constructor;y!=j&&"constructor"in t&&"constructor"in r&&!("function"==typeof y&&y instanceof y&&"function"==typeof j&&j instanceof j)&&(d=!1)}return u.delete(t),u.delete(r),d}(t,r,e,n,o,u=u||new xt)}function on(t,r,e,n,o){return t===r||(null==t||null==r||!yt(t)&&!yt(r)?t!=t&&r!=r:nn(t,r,e,n,on,o))}var un=1,an=2;function cn(t){return t==t&&!b(t)}function fn(r,e){return function(t){return null!=t&&(t[r]===e&&(void 0!==e||r in Object(t)))}}function sn(r){var e=function(t){for(var r=fr(t),e=r.length;e--;){var n=r[e],o=t[n];r[e]=[n,o,cn(o)]}return r}(r);return 1==e.length&&e[0][2]?fn(e[0][0],e[0][1]):function(t){return t===r||function(t,r,e,n){var o=e.length,u=o,i=!n;if(null==t)return!u;for(t=Object(t);o--;){var a=e[o];if(i&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<u;){var c=(a=e[o])[0],f=t[c],s=a[1];if(i&&a[2]){if(void 0===f&&!(c in t))return!1}else{var l=new xt;if(n)var d=n(f,s,c,t,r,l);if(!(void 0===d?on(s,f,un|an,n,l):d))return!1}}return!0}(t,r,e)}}var ln=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dn=/^\w*$/;function vn(t,r){if(bt(t))return!1;var e=void 0===t?"undefined":o(t);return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!_t(t))||(dn.test(t)||!ln.test(t)||null!=r&&t in Object(r))}var pn="Expected a function";function hn(o,u){if("function"!=typeof o||null!=u&&"function"!=typeof u)throw new TypeError(pn);function i(){var t=arguments,r=u?u.apply(this,t):t[0],e=i.cache;if(e.has(r))return e.get(r);var n=o.apply(this,t);return i.cache=e.set(r,n)||e,n}return i.cache=new(hn.Cache||V),i}hn.Cache=V;var bn,yn,jn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_n=/\\(\\)?/g,gn=(yn=(bn=hn(function(t){var o=[];return 46===t.charCodeAt(0)&&o.push(""),t.replace(jn,function(t,r,e,n){o.push(e?n.replace(_n,"$1"):r||t)}),o},function(t){return 500===yn.size&&yn.clear(),t})).cache,bn);function mn(t,r){return bt(t)?t:vn(t,r)?[t]:gn(At(t))}var wn=1/0;function On(t){if("string"==typeof t||_t(t))return t;var r=t+"";return"0"==r&&1/t==-wn?"-0":r}function An(t,r){for(var e=0,n=(r=mn(r,t)).length;null!=t&&e<n;)t=t[On(r[e++])];return e&&e==n?t:void 0}function Sn(t,r){return null!=t&&r in Object(t)}function zn(t,r){return null!=t&&function(t,r,e){for(var n=-1,o=(r=mn(r,t)).length,u=!1;++n<o;){var i=On(r[n]);if(!(u=null!=t&&e(t,i)))break;t=t[i]}return u||++n!=o?u:!!(o=null==t?0:t.length)&&Xt(o)&&Vt(i,o)&&(bt(t)||Tt(t))}(t,r,Sn)}var xn=1,Mn=2;function Pn(e,n){return vn(e)&&cn(n)?fn(On(e),n):function(t){var r=function(t,r,e){var n=null==t?void 0:An(t,r);return void 0===n?e:n}(t,e);return void 0===r&&r===n?zn(t,e):on(n,r,xn|Mn)}}function En(t){return t}function In(t){return vn(t)?function(r){return function(t){return null==t?void 0:t[r]}}(On(t)):function(r){return function(t){return An(t,r)}}(t)}var Un=1;function kn(t){return function(t){return"function"==typeof t?t:null==t?En:"object"==(void 0===t?"undefined":o(t))?bt(t)?Pn(t[0],t[1]):sn(t):In(t)}("function"==typeof t?t:Pe(t,Un))}function Fn(t,r){return t<r?-1:r<t?1:r<=t?0:NaN}var Bn,Ln;1===(Ln=Fn).length&&(Bn=Ln,Ln=function(t,r){return Fn(Bn(t),r)});function Tn(t,r){var e=void 0,n=void 0;if(void 0===r){var o=!0,u=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var f=a.value;null!=f&&(void 0===e?f<=f&&(e=n=f):(f<e&&(e=f),n<f&&(n=f)))}}catch(t){u=!0,i=t}finally{try{!o&&c.return&&c.return()}finally{if(u)throw i}}}else{var s=-1,l=!0,d=!1,v=void 0;try{for(var p,h=t[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var b=p.value;null!=(b=r(b,++s,t))&&(void 0===e?b<=b&&(e=n=b):(b<e&&(e=b),n<b&&(n=b)))}}catch(t){d=!0,v=t}finally{try{!l&&h.return&&h.return()}finally{if(d)throw v}}}return[e,n]}var qn,$n={Ordinal:"discrete",Band:"discrete",Point:"discrete",Linear:"continuous",Log:"continuous",Pow:"continuous",Sqrt:"continuous",Sequential:"continuous",Quantile:"quantile",Quantize:"discretizing",Threshold:"discretizing"},Dn={Sequential:"Linear"},Cn={discrete:function(t){return t&&t.length?function(t,r,e){var n=-1,o=Y,u=t.length,i=!0,a=[],c=a;if(e)i=!1,o=Q;else if(Z<=u){var f=r?null:K(t);if(f)return J(f);i=!1,o=G,c=new W}else c=r?[]:a;t:for(;++n<u;){var s=t[n],l=r?r(s):s;if(s=e||0!==s?s:0,i&&l==l){for(var d=c.length;d--;)if(c[d]===l)continue t;r&&c.push(l),a.push(s)}else o(c,l,e)||(c!==a&&c.push(l),a.push(s))}return a}(t):[]},quantile:function(t){return t},discretizing:Tn,continuous:Tn};function Nn(t,r){return Array.isArray(t)?t:"continuous"==$n[r]?[0,1]:function(t,r){return Object.values(t).length!==t.length?t[r||t.length-1]:t}(function(t){return d3[t.startsWith("scheme")?t:"scheme"+zt(t)]}(t.scheme),t.count)}function Rn(t,r){var e=zt(r.scale||"Linear");r=function(t,r){return t.scheme&&!Array.isArray(t.range)&&(t.range={scheme:t.scheme},"continuous"!=$n[r]&&t.count&&(t.range.count=t.count)),t.domain||(t.domain={metric:t.metric}),t.metric=t.domain.metric||t.metric,t}(r,e);var n=d3["scale"+(Dn[e]||e)]().domain(function(t,r,e,n){return Array.isArray(r)&&"Quantile"!=n?r:Cn[$n[n]](t.map(kn(e)))}(t,r.domain,r.metric,e)).range(function(t,r){return r?t.slice().reverse():t}(Nn(r.range,e),!0===r.range.reverse||r.reverse));return"continuous"!=$n[e]||Array.isArray(r.range)?function(t){return n("object"===(void 0===t?"undefined":o(t))?kn(r.metric)(t):t)}:function(t){return d3["interpolate"+r.range.scheme](n("object"===(void 0===t?"undefined":o(t))?kn(r.metric)(t):t))}}var Vn=180/Math.PI,Wn={translateX:0,translateY:0};function Xn(t){return null==t?Wn:((qn=qn||document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform",t),(t=qn.transform.baseVal.consolidate())?function(t,r,e,n,o,u){var i,a,c;(i=Math.sqrt(t*t+r*r))&&(t/=i,r/=i);(c=t*e+r*n)&&(e-=t*c,n-=r*c);(a=Math.sqrt(e*e+n*n))&&(e/=a,n/=a,c/=a);t*n<r*e&&(t=-t,r=-r,c=-c,i=-i);return{translateX:o,translateY:u,rotate:Math.atan2(r,t)*Vn,skewX:Math.atan(c)*Vn,scaleX:i,scaleY:a}}((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Wn)}function Yn(t,r){this.message=t,this.options=r}function Qn(t,r,e){return r in t&&(e=t[r],delete t[r]),e}function Gn(t){for(var r=1,e=arguments.length;r<e;r++){var n=arguments[r];for(var o in n)t[o]=n[o]}return t}function Hn(t,e,r){var n=t.map(function(t,r){return r});if(e){var o=t.map("function"==typeof e?function(t,r){return[e(t),r]}:function(t,r){return[t[e],r]});n.sort(function(t,r){var e=o[t][0],n=o[r][0];return e<n?-1:n<e?1:o[t][1]-o[r][1]}),r=!r&&void 0!==r;for(var u=0,i=n.length,a=[];u<i;u++)a[n[u]]=r?u:i-u-1;n=a}return n}function Jn(t,r){for(var e in r)"object"==o(r[e])&&(r[e]=Rn(t,r[e]));return r}var Kn=".sanddance",Zn={grid:function(t,r){var e=r.data,n=r.width,o=r.height,u=n*o/e.length,i=Math.sqrt(u),a=Math.ceil(n/i),c=Math.ceil(e.length/a),f=i*c,s=r.filter,l=Hn(e=s?e.filter(function(t,r){return s(t,r)}):e,r.sort,r.ascending);return t.transform=function(t,r){var e=(r=l[r])%a,n=Math.floor(r/a);return"translate("+(this.dataset._sd_x=e*i)+","+(this.dataset._sd_y=f-(n+1)*i)+")"},{attrs:Jn(e,t),options:r}},hexpack:function(t,r){var e,n=r.data,o=r.filter,u=Hn(n=o?n.filter(function(t,r){return o(t,r)}):n,r.sort,r.sort_ascending),i=n.length,a=[[0,0]],c=1,f=0;for(;f<i;){for(e=0;1-c<=e;e--)a.push([c,e]);for(e=c;1<=e;e--)a.push([e,-c]);for(e=0;1-c<=e;e--)a.push([e,-c-e]);for(e=0;e<=c-1;e++)a.push([-c,e]);for(e=-c;e<=-1;e++)a.push([e,c]);for(e=0;e<=c-1;e++)a.push([e,c-e]);f+=6*c,c++}var s=r.width,l=r.height,d=2*c-1,v=s/d,p=l/d,h=v*Math.cos(60*Math.PI/180),b=p*Math.sin(60*Math.PI/180);return a=a.slice(0,i).map(function(t){return[t[0]*v+t[1]*h+s/2,t[1]*b+l/2]}),t.transform=function(t,r){r=u[r];var e=a[r];return"translate("+e[0]+","+e[1]+")"},{attrs:Jn(n,t),options:r}},spiral:function(t,r){var e=r.data,n=r.filter,o=Hn(e=n?e.filter(function(t,r){return n(t,r)}):e,r.sort,r.sort_ascending),u=Qn(r,"spiral_size"),i=Qn(r,"spiral_angle")*Math.PI/180,a=e.map(function(t,r){return[r*u*Math.cos(r*i),r*u*Math.sin(r*i)]});return t.transform=function(t,r){return r=o[r],"translate("+a[r][0]+","+a[r][1]+")"},{attrs:Jn(e,t),options:r}}};function to(c,f){f=f||{};var t,s=d3.dispatch("init","start","end");f.layout&&(t=Zn[f.layout](c,f),c=t.attrs,f=t.options);function e(t){s.call("init",t);var r=h?t.filter(h):t,e=r.transition().ease(p);if(b||y){var o="function"==typeof b?b:function(){return b},u="function"==typeof y?y:function(){return y};e.attr("transform",function(t,r){var e=o(t,r),n=u(t,r);return"translate("+(this.dataset._sd_x=e)+","+(this.dataset._sd_y=n)+")"})}for(var n in c)e=e.attr(n,c[n]);"duration"in f?e=e.duration(l):d&&(e=e.duration(function(t){var r=Xn(this.getAttribute("transform"));return function(t,r,e,n){var o=e-t,u=n-r;return Math.sqrt(o*o+u*u)}(r.translateX,r.translateY,this.dataset._sd_x,this.dataset._sd_y)/("function"==typeof d?d(t):d)*1e3})),v&&(e=e.delay(function(t){return"function"==typeof v?v(t):v}));var i=r.size(),a=0;e.on("start.count",function(){0===a&&s.call("start",t),a++}),e.on("end interrupt",function(){if(!(0<--i)){if(0===i)return s.call("end",t);throw new Yn("sanddance: Invalid count: "+i,f)}})}var l=f.duration,d=f.speed,v=f.delay||0,p=f.easing||d3.easeLinear,h=f.filter,b=f.x,y=f.y;return e.on=function(t,r){return s.on(t+Kn,r),e},e.update=function(t,r){return to(Gn({},c,t),Gn({},f,r))},e}to.chain=function(){for(var t=0,r=arguments.length-1;t<r;t++)!function(t,r){t.on("end"+Kn,function(){this.call(r)})}(arguments[t],arguments[t+1]);return arguments[0]},t.sanddance=to,t.version="0.17.3",Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=sanddance.min.js.map
