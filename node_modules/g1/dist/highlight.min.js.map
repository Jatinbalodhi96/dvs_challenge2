{"version":3,"file":"highlight.min.js","sources":["../src/highlight.js","../index-highlight.js","../src/_util.js","../src/package.js"],"sourcesContent":["import { findall } from './_util.js'\n\nvar container_options = {\n  selector: '[data-toggle=\"highlight\"]',\n  target: '.highlight-target',\n  mode: 'hover',\n  classes: 'active'\n}\n\nexport function highlight(options) {\n  this.each(function() {\n    var settings = $.extend({}, container_options, options, this.dataset)\n    var container = this\n    // Loop through all triggers in the container. This may include the container itself\n    findall($(this), settings.selector).each(function () {\n      var opts = $.extend({}, settings, this.dataset)\n      var $this = $(this).off('.g1.highlight')\n      var event = opts.mode == 'click' ? 'click.g1.highlight' : 'mouseenter.g1.highlight mouseleave.g1.highlight'\n      $this.on(event, function () {\n        // When the trigger is triggered, toggle the target classes and fire a highlight event\n        var target = $(opts.target, container).toggleClass(opts.classes)\n        $this.trigger({ type: 'highlight', target: target })\n      })\n    })\n  })\n  return this\n}\n","export { version } from './src/package.js'\nimport { highlight } from './src/highlight.js'\n\nif (typeof jQuery != 'undefined') {\n  jQuery.extend(jQuery.fn, {\n    highlight: highlight\n  })\n}\n","// jQuery utilities.\n// These are NOT jQuery plugins. They accept a $node directly.\n// These are NOT exposed as part of the API. Purely internal.\n\n// Return all values that match the selector\n// AMONG and UNDER the $node\nexport function findall($node, selector) {\n  return $node.filter(selector).add($node.find(selector))\n}\n\n// Return all values that DO NOT match the selector\n// AMONG and UNDER the $node. Complement of findall\nexport function notall($node, selector) {\n  return $node.not(selector).add($node.not(selector))\n}\n\n// Returns true if data attribute is present\n//    But if the value is \"false\", \"off\", \"n\" or \"no\" in any case, returns false (like YAML)\n// Returns default_value if data attribute is missing\nexport function hasdata($node, key, default_value) {\n  var val = $node.data(key)\n  if (typeof val == 'undefined' || val === false || val === null)\n    return default_value\n  if (typeof val == 'string' && val.match(/^(false|off|n|no)$/i))\n    return false\n  return true\n}\n\n// Return the {width:..., height:...} of the node\nexport function getSize($node) {\n  // Ideally, this is just one line:\n  //    return $node.getBoundingClientRect()\n\n  // But see http://stackoverflow.com/q/18153989/100904\n  // and https://bugzilla.mozilla.org/show_bug.cgi?id=530985\n  // If the contents exceed the bounds of an element,\n  // getBoundingClientRect() failes in Firefox.\n\n  // So set display:block, get $().width(), and unset display:block\n  $node = $($node)\n  var old_display = $node.css('display'),\n      result = {}\n  if (old_display != 'block')\n    $node.css('display', 'block')\n  result.width = $node.width()\n  result.height = $node.height()\n  if (old_display != 'block')\n    $node.css('display', old_display)\n  return result\n}\n","export var name = \"g1\";\r\nexport var version = \"0.17.3\";\r\nexport var description = \"Gramex 1.x interaction library\";\r\nexport var license = \"MIT\";\r\nexport var author = \"S Anand <s.anand@gramener.com>\";\r\nexport var module = \"modules.js\";\r\nexport var main = \"dist/g1.js\";\r\nexport var jsdelivr = \"dist/g1.min.js\";\r\nexport var unpkg = \"dist/g1.min.js\";\r\nexport var repository = {\"type\":\"git\",\"url\":\"git@code.gramener.com:s.anand/g1.git\"};\r\nexport var scripts = {\"lint\":\"eslint index*.js src && eclint check '**/*.html' '**/*.js' '**/*.css' '**/*.yaml' '**/*.md'\",\"build\":\"rimraf dist && json2module package.json > src/package.js && rollup -c\",\"dev\":\"rimraf dist && json2module package.json > src/package.js && rollup -c -w\",\"pretest\":\"npm run lint && npm run build && browserify -s tape -r tape -o test/tape.js\",\"server\":\"npm run pretest && npm run lint && node test/server.js\",\"test\":\"tape test/test-*.js | faucet && node test/server.js puppeteer | tap-merge | faucet\",\"test-chrome\":\"node test/server.js chrome | tap-merge | faucet\",\"test-edge\":\"node test/server.js MicrosoftEdge | tap-merge | faucet\",\"test-firefox\":\"node test/server.js firefox | tap-merge | faucet\",\"prepublishOnly\":\"npm test\"};\r\nexport var devDependencies = {\"babel-core\":\"6\",\"babel-plugin-external-helpers\":\"6\",\"babel-plugin-transform-runtime\":\"6\",\"babel-preset-env\":\"1\",\"babel-preset-es2015\":\"6\",\"babelrc-rollup\":\"3\",\"bootstrap\":\"4.1\",\"bootstrap-select\":\"1.13\",\"browserify\":\"14\",\"component-emitter\":\"1\",\"d3\":\"4\",\"d3-scale-chromatic\":\"1\",\"deepmerge\":\"2\",\"eclint\":\"2\",\"es6-promise\":\"4\",\"eslint\":\"4\",\"events-polyfill\":\"2\",\"express\":\"4\",\"faucet\":\"0.0\",\"font-awesome\":\"4\",\"glob\":\"7.1\",\"html-minifier\":\"3\",\"is-plain-object\":\"2\",\"jquery\":\"3\",\"json2module\":\"0.0\",\"leaflet\":\"1.3\",\"lodash\":\"4\",\"moment\":\"2\",\"morphdom\":\"2\",\"numeral\":\"2\",\"popper.js\":\"1\",\"puppeteer\":\"0.13\",\"regenerator-runtime\":\"0.11\",\"rimraf\":\"2\",\"rollup\":\"1\",\"rollup-plugin-babel\":\"3\",\"rollup-plugin-commonjs\":\"10\",\"rollup-plugin-node-resolve\":\"5\",\"rollup-plugin-uglify\":\"6\",\"rollup-pluginutils\":\"2\",\"selenium-webdriver\":\"3\",\"tap-merge\":\"0.3\",\"tape\":\"4\",\"topojson\":\"3\",\"unfetch\":\"3\"};\r\nexport var dependencies = {\"d3-array\":\"2\",\"lodash-es\":\"4\"};\r\n"],"names":["container_options","selector","target","mode","classes","jQuery","extend","fn","highlight","options","this","each","settings","$","dataset","container","$node","filter","add","find","findall","opts","$this","off","event","on","toggleClass","trigger","type"],"mappings":"qMAEA,IAAIA,EAAoB,CACtBC,SAAU,4BACVC,OAAQ,oBACRC,KAAM,QACNC,QAAS,UCHU,oBAAVC,QACTA,OAAOC,OAAOD,OAAOE,GAAI,CACvBC,UDIG,SAAmBC,GAgBxB,OAfAC,KAAKC,KAAK,WACR,IAAIC,EAAWC,EAAEP,OAAO,GAAIN,EAAmBS,EAASC,KAAKI,SACzDC,EAAYL,MENb,SAAiBM,EAAOf,GAC7B,OAAOe,EAAMC,OAAOhB,GAAUiB,IAAIF,EAAMG,KAAKlB,KFO3CmB,CAAQP,EAAEH,MAAOE,EAASX,UAAUU,KAAK,WACvC,IAAIU,EAAOR,EAAEP,OAAO,GAAIM,EAAUF,KAAKI,SACnCQ,EAAQT,EAAEH,MAAMa,IAAI,iBACpBC,EAAqB,SAAbH,EAAKlB,KAAkB,qBAAuB,kDAC1DmB,EAAMG,GAAGD,EAAO,WAEd,IAAItB,EAASW,EAAEQ,EAAKnB,OAAQa,GAAWW,YAAYL,EAAKjB,SACxDkB,EAAMK,QAAQ,CAAEC,KAAM,YAAa1B,OAAQA,UAI1CQ,kBGxBY"}