!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).g1=t.g1||{})}(this,function(t){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e="object"==("undefined"==typeof global?"undefined":o(global))&&global&&global.Object===Object&&global,r="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,n=e||r||Function("return this")(),u=n.Symbol,i=Object.prototype,c=i.hasOwnProperty,a=i.toString,f=u?u.toStringTag:void 0;var s=Object.prototype.toString;var l="[object Null]",v="[object Undefined]",d=u?u.toStringTag:void 0;function b(t){return null==t?void 0===t?v:l:d&&d in Object(t)?function(t){var e=c.call(t,f),r=t[f];try{var n=!(t[f]=void 0)}catch(t){}var o=a.call(t);return n&&(e?t[f]=r:delete t[f]),o}(t):function(t){return s.call(t)}(t)}function y(t){var e=void 0===t?"undefined":o(t);return null!=t&&("object"==e||"function"==e)}var p="[object AsyncFunction]",h="[object Function]",j="[object GeneratorFunction]",_="[object Proxy]";function g(t){if(!y(t))return!1;var e=b(t);return e==h||e==j||e==p||e==_}var m,w=n["__core-js_shared__"],O=(m=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"";var A=Function.prototype.toString;function S(t){if(null!=t){try{return A.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var z=/^\[object .+?Constructor\]$/,x=Function.prototype,P=Object.prototype,E=x.toString,U=P.hasOwnProperty,F=RegExp("^"+E.call(U).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function I(t){return!(!y(t)||function(t){return!!O&&O in t}(t))&&(g(t)?F:z).test(S(t))}function k(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return I(r)?r:void 0}var B=k(Object,"create");var M=Object.prototype.hasOwnProperty;var T=Object.prototype.hasOwnProperty;function L(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function $(t,e){return t===e||t!=t&&e!=e}function D(t,e){for(var r=t.length;r--;)if($(t[r][0],e))return r;return-1}L.prototype.clear=function(){this.__data__=B?B(null):{},this.size=0},L.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},L.prototype.get=function(t){var e=this.__data__;if(B){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return M.call(e,t)?e[t]:void 0},L.prototype.has=function(t){var e=this.__data__;return B?void 0!==e[t]:T.call(e,t)},L.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=B&&void 0===e?"__lodash_hash_undefined__":e,this};var C=Array.prototype.splice;function R(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}R.prototype.clear=function(){this.__data__=[],this.size=0},R.prototype.delete=function(t){var e=this.__data__,r=D(e,t);return!(r<0)&&(r==e.length-1?e.pop():C.call(e,r,1),--this.size,!0)},R.prototype.get=function(t){var e=this.__data__,r=D(e,t);return r<0?void 0:e[r][1]},R.prototype.has=function(t){return-1<D(this.__data__,t)},R.prototype.set=function(t,e){var r=this.__data__,n=D(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var q=k(n,"Map");function N(t,e){var r=t.__data__;return function(t){var e=void 0===t?"undefined":o(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function V(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}V.prototype.clear=function(){this.size=0,this.__data__={hash:new L,map:new(q||R),string:new L}},V.prototype.delete=function(t){var e=N(this,t).delete(t);return this.size-=e?1:0,e},V.prototype.get=function(t){return N(this,t).get(t)},V.prototype.has=function(t){return N(this,t).has(t)},V.prototype.set=function(t,e){var r=N(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function W(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new V;++e<r;)this.add(t[e])}function Q(t){return t!=t}function G(t,e){return!!(null==t?0:t.length)&&-1<function(t,e,r){return e==e?function(t,e,r){for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}(t,e,r):function(t,e,r,n){for(var o=t.length,u=r+(n?1:-1);n?u--:++u<o;)if(e(t[u],u,t))return u;return-1}(t,Q,r)}(t,e,0)}function H(t,e,r){for(var n=-1,o=null==t?0:t.length;++n<o;)if(r(e,t[n]))return!0;return!1}function J(t,e){return t.has(e)}W.prototype.add=W.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},W.prototype.has=function(t){return this.__data__.has(t)};var K=k(n,"Set");function X(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var Y=K&&1/X(new K([,-0]))[1]==1/0?function(t){return new K(t)}:function(){},Z=200;function tt(t,e,r){var n=t.length;return r=void 0===r?n:r,!e&&n<=r?t:function(t,e,r){var n=-1,o=t.length;e<0&&(e=o<-e?0:o+e),(r=o<r?o:r)<0&&(r+=o),o=r<e?0:r-e>>>0,e>>>=0;for(var u=Array(o);++n<o;)u[n]=t[n+e];return u}(t,e,r)}var et=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function rt(t){return et.test(t)}var nt="\\ud800-\\udfff",ot="["+nt+"]",ut="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",it="\\ud83c[\\udffb-\\udfff]",ct="[^"+nt+"]",at="(?:\\ud83c[\\udde6-\\uddff]){2}",ft="[\\ud800-\\udbff][\\udc00-\\udfff]",st="(?:"+ut+"|"+it+")"+"?",lt="[\\ufe0e\\ufe0f]?",vt=lt+st+("(?:\\u200d(?:"+[ct,at,ft].join("|")+")"+lt+st+")*"),dt="(?:"+[ct+ut+"?",ut,at,ft,ot].join("|")+")",bt=RegExp(it+"(?="+it+")|"+dt+vt,"g");function pt(t){return rt(t)?function(t){return t.match(bt)||[]}(t):function(t){return t.split("")}(t)}var yt=Array.isArray;function ht(t){return null!=t&&"object"==(void 0===t?"undefined":o(t))}var jt="[object Symbol]";function _t(t){return"symbol"==(void 0===t?"undefined":o(t))||ht(t)&&b(t)==jt}var gt=1/0,mt=u?u.prototype:void 0,wt=mt?mt.toString:void 0;function Ot(t){if("string"==typeof t)return t;if(yt(t))return function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}(t,Ot)+"";if(_t(t))return wt?wt.call(t):"";var e=t+"";return"0"==e&&1/t==-gt?"-0":e}function At(t){return null==t?"":Ot(t)}var St,zt=(St="toUpperCase",function(t){var e=rt(t=At(t))?pt(t):void 0,r=e?e[0]:t.charAt(0),n=e?tt(e,1).join(""):t.slice(1);return r[St]()+n});function xt(t){var e=this.__data__=new R(t);this.size=e.size}xt.prototype.clear=function(){this.__data__=new R,this.size=0},xt.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},xt.prototype.get=function(t){return this.__data__.get(t)},xt.prototype.has=function(t){return this.__data__.has(t)},xt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof R){var n=r.__data__;if(!q||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new V(n)}return r.set(t,e),this.size=r.size,this};var Pt=function(){try{var t=k(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();function Et(t,e,r){"__proto__"==e&&Pt?Pt(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Ut=Object.prototype.hasOwnProperty;function Ft(t,e,r){var n=t[e];Ut.call(t,e)&&$(n,r)&&(void 0!==r||e in t)||Et(t,e,r)}function It(t,e,r,n){var o=!r;r=r||{};for(var u=-1,i=e.length;++u<i;){var c=e[u],a=n?n(r[c],t[c],c,r,t):void 0;void 0===a&&(a=t[c]),o?Et(r,c,a):Ft(r,c,a)}return r}function kt(t){return ht(t)&&"[object Arguments]"==b(t)}var Bt=Object.prototype,Mt=Bt.hasOwnProperty,Tt=Bt.propertyIsEnumerable,Lt=kt(function(){return arguments}())?kt:function(t){return ht(t)&&Mt.call(t,"callee")&&!Tt.call(t,"callee")};var $t="object"==(void 0===t?"undefined":o(t))&&t&&!t.nodeType&&t,Dt=$t&&"object"==("undefined"==typeof module?"undefined":o(module))&&module&&!module.nodeType&&module,Ct=Dt&&Dt.exports===$t?n.Buffer:void 0,Rt=(Ct?Ct.isBuffer:void 0)||function(){return!1},qt=9007199254740991,Nt=/^(?:0|[1-9]\d*)$/;function Vt(t,e){var r=void 0===t?"undefined":o(t);return!!(e=null==e?qt:e)&&("number"==r||"symbol"!=r&&Nt.test(t))&&-1<t&&t%1==0&&t<e}var Wt=9007199254740991;function Qt(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=Wt}var Gt={};function Ht(e){return function(t){return e(t)}}Gt["[object Float32Array]"]=Gt["[object Float64Array]"]=Gt["[object Int8Array]"]=Gt["[object Int16Array]"]=Gt["[object Int32Array]"]=Gt["[object Uint8Array]"]=Gt["[object Uint8ClampedArray]"]=Gt["[object Uint16Array]"]=Gt["[object Uint32Array]"]=!0,Gt["[object Arguments]"]=Gt["[object Array]"]=Gt["[object ArrayBuffer]"]=Gt["[object Boolean]"]=Gt["[object DataView]"]=Gt["[object Date]"]=Gt["[object Error]"]=Gt["[object Function]"]=Gt["[object Map]"]=Gt["[object Number]"]=Gt["[object Object]"]=Gt["[object RegExp]"]=Gt["[object Set]"]=Gt["[object String]"]=Gt["[object WeakMap]"]=!1;var Jt="object"==(void 0===t?"undefined":o(t))&&t&&!t.nodeType&&t,Kt=Jt&&"object"==("undefined"==typeof module?"undefined":o(module))&&module&&!module.nodeType&&module,Xt=Kt&&Kt.exports===Jt&&e.process,Yt=function(){try{var t=Kt&&Kt.require&&Kt.require("util").types;return t||Xt&&Xt.binding&&Xt.binding("util")}catch(t){}}(),Zt=Yt&&Yt.isTypedArray,te=Zt?Ht(Zt):function(t){return ht(t)&&Qt(t.length)&&!!Gt[b(t)]},ee=Object.prototype.hasOwnProperty;function re(t,e){var r=yt(t),n=!r&&Lt(t),o=!r&&!n&&Rt(t),u=!r&&!n&&!o&&te(t),i=r||n||o||u,c=i?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],a=c.length;for(var f in t)!e&&!ee.call(t,f)||i&&("length"==f||o&&("offset"==f||"parent"==f)||u&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||Vt(f,a))||c.push(f);return c}var ne=Object.prototype;function oe(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ne)}function ue(e,r){return function(t){return e(r(t))}}var ie=ue(Object.keys,Object),ce=Object.prototype.hasOwnProperty;function ae(t){return null!=t&&Qt(t.length)&&!g(t)}function fe(t){return ae(t)?re(t):function(t){if(!oe(t))return ie(t);var e=[];for(var r in Object(t))ce.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}var se=Object.prototype.hasOwnProperty;function le(t){if(!y(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=oe(t),r=[];for(var n in t)("constructor"!=n||!e&&se.call(t,n))&&r.push(n);return r}function ve(t){return ae(t)?re(t,!0):le(t)}var de="object"==(void 0===t?"undefined":o(t))&&t&&!t.nodeType&&t,be=de&&"object"==("undefined"==typeof module?"undefined":o(module))&&module&&!module.nodeType&&module,pe=be&&be.exports===de?n.Buffer:void 0,ye=pe?pe.allocUnsafe:void 0;function he(){return[]}var je=Object.prototype.propertyIsEnumerable,_e=Object.getOwnPropertySymbols,ge=_e?function(e){return null==e?[]:(e=Object(e),function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,u=[];++r<n;){var i=t[r];e(i,r,t)&&(u[o++]=i)}return u}(_e(e),function(t){return je.call(e,t)}))}:he;function me(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}var we=ue(Object.getPrototypeOf,Object),Oe=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)me(e,ge(t)),t=we(t);return e}:he;function Ae(t,e,r){var n=e(t);return yt(t)?n:me(n,r(t))}function Se(t){return Ae(t,fe,ge)}function ze(t){return Ae(t,ve,Oe)}var xe=k(n,"DataView"),Pe=k(n,"Promise"),Ee=k(n,"WeakMap"),Ue="[object Map]",Fe="[object Promise]",Ie="[object Set]",ke="[object WeakMap]",Be="[object DataView]",Me=S(xe),Te=S(q),Le=S(Pe),$e=S(K),De=S(Ee),Ce=b;(xe&&Ce(new xe(new ArrayBuffer(1)))!=Be||q&&Ce(new q)!=Ue||Pe&&Ce(Pe.resolve())!=Fe||K&&Ce(new K)!=Ie||Ee&&Ce(new Ee)!=ke)&&(Ce=function(t){var e=b(t),r="[object Object]"==e?t.constructor:void 0,n=r?S(r):"";if(n)switch(n){case Me:return Be;case Te:return Ue;case Le:return Fe;case $e:return Ie;case De:return ke}return e});var Re=Ce,qe=Object.prototype.hasOwnProperty;var Ne=n.Uint8Array;function Ve(t){var e=new t.constructor(t.byteLength);return new Ne(e).set(new Ne(t)),e}var We=/\w*$/;var Qe=u?u.prototype:void 0,Ge=Qe?Qe.valueOf:void 0;var He="[object Boolean]",Je="[object Date]",Ke="[object Map]",Xe="[object Number]",Ye="[object RegExp]",Ze="[object Set]",tr="[object String]",er="[object Symbol]",rr="[object ArrayBuffer]",nr="[object DataView]",or="[object Float32Array]",ur="[object Float64Array]",ir="[object Int8Array]",cr="[object Int16Array]",ar="[object Int32Array]",fr="[object Uint8Array]",sr="[object Uint8ClampedArray]",lr="[object Uint16Array]",vr="[object Uint32Array]";function dr(t,e,r){var n=t.constructor;switch(e){case rr:return Ve(t);case He:case Je:return new n(+t);case nr:return function(t,e){var r=e?Ve(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case or:case ur:case ir:case cr:case ar:case fr:case sr:case lr:case vr:return function(t,e){var r=e?Ve(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case Ke:return new n;case Xe:case tr:return new n(t);case Ye:return function(t){var e=new t.constructor(t.source,We.exec(t));return e.lastIndex=t.lastIndex,e}(t);case Ze:return new n;case er:return function(t){return Ge?Object(Ge.call(t)):{}}(t)}}var br=Object.create,pr=function(t){if(!y(t))return{};if(br)return br(t);yr.prototype=t;var e=new yr;return yr.prototype=void 0,e};function yr(){}var hr=Yt&&Yt.isMap,jr=hr?Ht(hr):function(t){return ht(t)&&"[object Map]"==Re(t)};var _r=Yt&&Yt.isSet,gr=_r?Ht(_r):function(t){return ht(t)&&"[object Set]"==Re(t)},mr=1,wr=2,Or=4,Ar="[object Arguments]",Sr="[object Function]",zr="[object GeneratorFunction]",xr="[object Object]",Pr={};function Er(r,n,o,t,e,u){var i,c=n&mr,a=n&wr,f=n&Or;if(o&&(i=e?o(r,t,e,u):o(r)),void 0!==i)return i;if(!y(r))return r;var s=yt(r);if(s){if(i=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&qe.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(r),!c)return function(t,e){var r=-1,n=t.length;for(e=e||Array(n);++r<n;)e[r]=t[r];return e}(r,i)}else{var l=Re(r),v=l==Sr||l==zr;if(Rt(r))return function(t,e){if(e)return t.slice();var r=t.length,n=ye?ye(r):new t.constructor(r);return t.copy(n),n}(r,c);if(l==xr||l==Ar||v&&!e){if(i=a||v?{}:function(t){return"function"!=typeof t.constructor||oe(t)?{}:pr(we(t))}(r),!c)return a?function(t,e){return It(t,Oe(t),e)}(r,function(t,e){return t&&It(e,ve(e),t)}(i,r)):function(t,e){return It(t,ge(t),e)}(r,function(t,e){return t&&It(e,fe(e),t)}(i,r))}else{if(!Pr[l])return e?r:{};i=dr(r,l,c)}}var d=(u=u||new xt).get(r);if(d)return d;u.set(r,i),gr(r)?r.forEach(function(t){i.add(Er(t,n,o,t,r,u))}):jr(r)&&r.forEach(function(t,e){i.set(e,Er(t,n,o,e,r,u))});var b=f?a?ze:Se:a?keysIn:fe,p=s?void 0:b(r);return function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););}(p||r,function(t,e){p&&(t=r[e=t]),Ft(i,e,Er(t,n,o,e,r,u))}),i}function Ur(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}Pr[Ar]=Pr["[object Array]"]=Pr["[object ArrayBuffer]"]=Pr["[object DataView]"]=Pr["[object Boolean]"]=Pr["[object Date]"]=Pr["[object Float32Array]"]=Pr["[object Float64Array]"]=Pr["[object Int8Array]"]=Pr["[object Int16Array]"]=Pr["[object Int32Array]"]=Pr["[object Map]"]=Pr["[object Number]"]=Pr[xr]=Pr["[object RegExp]"]=Pr["[object Set]"]=Pr["[object String]"]=Pr["[object Symbol]"]=Pr["[object Uint8Array]"]=Pr["[object Uint8ClampedArray]"]=Pr["[object Uint16Array]"]=Pr["[object Uint32Array]"]=!0,Pr["[object Error]"]=Pr[Sr]=Pr["[object WeakMap]"]=!1;var Fr=1,Ir=2;function kr(t,e,r,n,o,u){var i=r&Fr,c=t.length,a=e.length;if(c!=a&&!(i&&c<a))return!1;var f=u.get(t);if(f&&u.get(e))return f==e;var s=-1,l=!0,v=r&Ir?new W:void 0;for(u.set(t,e),u.set(e,t);++s<c;){var d=t[s],b=e[s];if(n)var p=i?n(b,d,s,e,t,u):n(d,b,s,t,e,u);if(void 0!==p){if(p)continue;l=!1;break}if(v){if(!Ur(e,function(t,e){if(!J(v,e)&&(d===t||o(d,t,r,n,u)))return v.push(e)})){l=!1;break}}else if(d!==b&&!o(d,b,r,n,u)){l=!1;break}}return u.delete(t),u.delete(e),l}function Br(t){var r=-1,n=Array(t.size);return t.forEach(function(t,e){n[++r]=[e,t]}),n}var Mr=1,Tr=2,Lr="[object Boolean]",$r="[object Date]",Dr="[object Error]",Cr="[object Map]",Rr="[object Number]",qr="[object RegExp]",Nr="[object Set]",Vr="[object String]",Wr="[object Symbol]",Qr="[object ArrayBuffer]",Gr="[object DataView]",Hr=u?u.prototype:void 0,Jr=Hr?Hr.valueOf:void 0;var Kr=1,Xr=Object.prototype.hasOwnProperty;var Yr=1,Zr="[object Arguments]",tn="[object Array]",en="[object Object]",rn=Object.prototype.hasOwnProperty;function nn(t,e,r,n,o,u){var i=yt(t),c=yt(e),a=i?tn:Re(t),f=c?tn:Re(e),s=(a=a==Zr?en:a)==en,l=(f=f==Zr?en:f)==en,v=a==f;if(v&&Rt(t)){if(!Rt(e))return!1;s=!(i=!0)}if(v&&!s)return u=u||new xt,i||te(t)?kr(t,e,r,n,o,u):function(t,e,r,n,o,u,i){switch(r){case Gr:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Qr:return!(t.byteLength!=e.byteLength||!u(new Ne(t),new Ne(e)));case Lr:case $r:case Rr:return $(+t,+e);case Dr:return t.name==e.name&&t.message==e.message;case qr:case Vr:return t==e+"";case Cr:var c=Br;case Nr:var a=n&Mr;if(c=c||X,t.size!=e.size&&!a)return!1;var f=i.get(t);if(f)return f==e;n|=Tr,i.set(t,e);var s=kr(c(t),c(e),n,o,u,i);return i.delete(t),s;case Wr:if(Jr)return Jr.call(t)==Jr.call(e)}return!1}(t,e,a,r,n,o,u);if(!(r&Yr)){var d=s&&rn.call(t,"__wrapped__"),b=l&&rn.call(e,"__wrapped__");if(d||b)return o(d?t.value():t,b?e.value():e,r,n,u=u||new xt)}return v&&function(t,e,r,n,o,u){var i=r&Kr,c=Se(t),a=c.length;if(a!=Se(e).length&&!i)return!1;for(var f=a;f--;){var s=c[f];if(!(i?s in e:Xr.call(e,s)))return!1}var l=u.get(t);if(l&&u.get(e))return l==e;var v=!0;u.set(t,e),u.set(e,t);for(var d=i;++f<a;){var b=t[s=c[f]],p=e[s];if(n)var y=i?n(p,b,s,e,t,u):n(b,p,s,t,e,u);if(!(void 0===y?b===p||o(b,p,r,n,u):y)){v=!1;break}d=d||"constructor"==s}if(v&&!d){var h=t.constructor,j=e.constructor;h!=j&&"constructor"in t&&"constructor"in e&&!("function"==typeof h&&h instanceof h&&"function"==typeof j&&j instanceof j)&&(v=!1)}return u.delete(t),u.delete(e),v}(t,e,r,n,o,u=u||new xt)}function on(t,e,r,n,o){return t===e||(null==t||null==e||!ht(t)&&!ht(e)?t!=t&&e!=e:nn(t,e,r,n,on,o))}var un=1,cn=2;function an(t){return t==t&&!y(t)}function fn(e,r){return function(t){return null!=t&&(t[e]===r&&(void 0!==r||e in Object(t)))}}function sn(e){var r=function(t){for(var e=fe(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,an(o)]}return e}(e);return 1==r.length&&r[0][2]?fn(r[0][0],r[0][1]):function(t){return t===e||function(t,e,r,n){var o=r.length,u=o,i=!n;if(null==t)return!u;for(t=Object(t);o--;){var c=r[o];if(i&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++o<u;){var a=(c=r[o])[0],f=t[a],s=c[1];if(i&&c[2]){if(void 0===f&&!(a in t))return!1}else{var l=new xt;if(n)var v=n(f,s,a,t,e,l);if(!(void 0===v?on(s,f,un|cn,n,l):v))return!1}}return!0}(t,e,r)}}var ln=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vn=/^\w*$/;function dn(t,e){if(yt(t))return!1;var r=void 0===t?"undefined":o(t);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!_t(t))||(vn.test(t)||!ln.test(t)||null!=e&&t in Object(e))}var bn="Expected a function";function pn(o,u){if("function"!=typeof o||null!=u&&"function"!=typeof u)throw new TypeError(bn);function i(){var t=arguments,e=u?u.apply(this,t):t[0],r=i.cache;if(r.has(e))return r.get(e);var n=o.apply(this,t);return i.cache=r.set(e,n)||r,n}return i.cache=new(pn.Cache||V),i}pn.Cache=V;var yn,hn,jn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_n=/\\(\\)?/g,gn=(hn=(yn=pn(function(t){var o=[];return 46===t.charCodeAt(0)&&o.push(""),t.replace(jn,function(t,e,r,n){o.push(r?n.replace(_n,"$1"):e||t)}),o},function(t){return 500===hn.size&&hn.clear(),t})).cache,yn);function mn(t,e){return yt(t)?t:dn(t,e)?[t]:gn(At(t))}var wn=1/0;function On(t){if("string"==typeof t||_t(t))return t;var e=t+"";return"0"==e&&1/t==-wn?"-0":e}function An(t,e){for(var r=0,n=(e=mn(e,t)).length;null!=t&&r<n;)t=t[On(e[r++])];return r&&r==n?t:void 0}function Sn(t,e){return null!=t&&e in Object(t)}function zn(t,e){return null!=t&&function(t,e,r){for(var n=-1,o=(e=mn(e,t)).length,u=!1;++n<o;){var i=On(e[n]);if(!(u=null!=t&&r(t,i)))break;t=t[i]}return u||++n!=o?u:!!(o=null==t?0:t.length)&&Qt(o)&&Vt(i,o)&&(yt(t)||Lt(t))}(t,e,Sn)}var xn=1,Pn=2;function En(r,n){return dn(r)&&an(n)?fn(On(r),n):function(t){var e=function(t,e,r){var n=null==t?void 0:An(t,e);return void 0===n?r:n}(t,r);return void 0===e&&e===n?zn(t,r):on(n,e,xn|Pn)}}function Un(t){return t}function Fn(t){return dn(t)?function(e){return function(t){return null==t?void 0:t[e]}}(On(t)):function(e){return function(t){return An(t,e)}}(t)}var In=1;function kn(t){return function(t){return"function"==typeof t?t:null==t?Un:"object"==(void 0===t?"undefined":o(t))?yt(t)?En(t[0],t[1]):sn(t):Fn(t)}("function"==typeof t?t:Er(t,In))}function Bn(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}var Mn,Tn;1===(Tn=Bn).length&&(Mn=Tn,Tn=function(t,e){return Bn(Mn(t),e)});function Ln(t,e){var r=void 0,n=void 0;if(void 0===e){var o=!0,u=!1,i=void 0;try{for(var c,a=t[Symbol.iterator]();!(o=(c=a.next()).done);o=!0){var f=c.value;null!=f&&(void 0===r?f<=f&&(r=n=f):(f<r&&(r=f),n<f&&(n=f)))}}catch(t){u=!0,i=t}finally{try{!o&&a.return&&a.return()}finally{if(u)throw i}}}else{var s=-1,l=!0,v=!1,d=void 0;try{for(var b,p=t[Symbol.iterator]();!(l=(b=p.next()).done);l=!0){var y=b.value;null!=(y=e(y,++s,t))&&(void 0===r?y<=y&&(r=n=y):(y<r&&(r=y),n<y&&(n=y)))}}catch(t){v=!0,d=t}finally{try{!l&&p.return&&p.return()}finally{if(v)throw d}}}return[r,n]}var $n={Ordinal:"discrete",Band:"discrete",Point:"discrete",Linear:"continuous",Log:"continuous",Pow:"continuous",Sqrt:"continuous",Sequential:"continuous",Quantile:"quantile",Quantize:"discretizing",Threshold:"discretizing"},Dn={Sequential:"Linear"},Cn={discrete:function(t){return t&&t.length?function(t,e,r){var n=-1,o=G,u=t.length,i=!0,c=[],a=c;if(r)i=!1,o=H;else if(Z<=u){var f=e?null:Y(t);if(f)return X(f);i=!1,o=J,a=new W}else a=e?[]:c;t:for(;++n<u;){var s=t[n],l=e?e(s):s;if(s=r||0!==s?s:0,i&&l==l){for(var v=a.length;v--;)if(a[v]===l)continue t;e&&a.push(l),c.push(s)}else o(a,l,r)||(a!==c&&a.push(l),c.push(s))}return c}(t):[]},quantile:function(t){return t},discretizing:Ln,continuous:Ln};function Rn(t,e){return Array.isArray(t)?t:"continuous"==$n[e]?[0,1]:function(t,e){return Object.values(t).length!==t.length?t[e||t.length-1]:t}(function(t){return d3[t.startsWith("scheme")?t:"scheme"+zt(t)]}(t.scheme),t.count)}t.scale=function(t,e){var r=zt(e.scale||"Linear");e=function(t,e){return t.scheme&&!Array.isArray(t.range)&&(t.range={scheme:t.scheme},"continuous"!=$n[e]&&t.count&&(t.range.count=t.count)),t.domain||(t.domain={metric:t.metric}),t.metric=t.domain.metric||t.metric,t}(e,r);var n=d3["scale"+(Dn[r]||r)]().domain(function(t,e,r,n){return Array.isArray(e)&&"Quantile"!=n?e:Cn[$n[n]](t.map(kn(r)))}(t,e.domain,e.metric,r)).range(function(t,e){return e?t.slice().reverse():t}(Rn(e.range,r),!0===e.range.reverse||e.reverse));return"continuous"!=$n[r]||Array.isArray(e.range)?function(t){return n("object"===(void 0===t?"undefined":o(t))?kn(e.metric)(t):t)}:function(t){return d3["interpolate"+e.range.scheme](n("object"===(void 0===t?"undefined":o(t))?kn(e.metric)(t):t))}},t.version="0.17.3",Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=scale.min.js.map
